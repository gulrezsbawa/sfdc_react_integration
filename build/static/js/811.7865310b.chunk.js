"use strict";(self.webpackChunk_jifflenow_selfserve=self.webpackChunk_jifflenow_selfserve||[]).push([[811],{57608:function(e,n,t){t.d(n,{$:function(){return p}});var r=t(96234),a=t(30969),i=t(44584),o=t(55364),s=t(35207),l=t(63056),u=t(8967),d=t(57106),c={BaseButton:{style:function(e){return{marginLeft:e.$theme.sizing.scale600}}}},g=t(53714),f=t(37574),h=(0,o.vU)({modalHeader:{id:"g6QKE+",defaultMessage:[{type:0,value:"Your changes will be lost."}]},modalMessage:{id:"rO2w17",defaultMessage:[{type:0,value:"Keep changes?"}]},cancelButtonLabel:{id:"qFwf8L",defaultMessage:[{type:0,value:"Discard"}]},successButtonLabel:{id:"83xnR6",defaultMessage:[{type:0,value:"Keep"}]}}),p=function(){var e=(0,s.Z)().formatMessage,n=(0,i.cI)().reset,t=(0,a.useState)(!1),o=(0,r.Z)(t,2),p=o[0],v=o[1],m=function(){return v(!1)};return(0,f.jsxs)(f.Fragment,{children:[p&&(0,f.jsx)(d.U,{heading:e(h.modalHeader),message:e(h.modalMessage),cancelLabel:e(h.cancelButtonLabel),successLabel:e(h.successButtonLabel),onClose:m,onCancel:function(){v(!1),n()},onSuccess:m}),(0,f.jsx)(i.lP,{subscription:{validating:!0,submitting:!0,dirty:!0},children:function(e){var n=e.validating,t=e.submitting;return e.dirty&&(0,f.jsxs)(g.bk,{children:[(0,f.jsx)(g.S5,{type:"button",kind:u.TO.tertiary,onClick:function(){return v(!0)},"data-pendo":"settings/discard-changes",children:(0,f.jsx)(l.Z,{id:"IoDdRG",defaultMessage:[{type:0,value:"Discard Changes"}]})}),(0,f.jsx)(g.S5,{type:"submit",disabled:t||n,overrides:c,"data-pendo":"settings/save-changes",children:(0,f.jsx)(l.Z,{id:"dnl6L4",defaultMessage:[{type:0,value:"Save Changes"}]})})]})}})]})}},65944:function(e,n,t){t.d(n,{q:function(){return S}});var r=t(30969),a=t(52427),i=t(63056),o=t(33179),s=t(88597),l=t(40619),u=t(28958),d=t(23427),c=t(33028),g=t(56666),f=t(9930),h=(0,f.zo)("div",(function(e){var n=e.$theme,t=n.sizing,r=n.mediaQuery;return(0,g.Z)({display:"flex",flexDirection:"column",flexShrink:0,justifyContent:"center",marginBottom:t.scale100,minHeight:"70px",paddingLeft:t.scale1200,paddingRight:t.scale600},r.medium,{paddingLeft:t.scale700,paddingRight:t.scale500})})),p=(0,f.zo)("div",{display:"flex",alignItems:"center"}),v=(0,f.zo)("div",(function(e){return{display:"flex",justifyContent:"space-between",borderBottomWidth:"1px",borderBottomStyle:"solid",borderBottomColor:e.$theme.colors.mono300}})),m=(0,f.zo)("div",(function(e){return{display:"flex",alignItems:"center",marginTop:e.$theme.sizing.scale600}})),y=(0,f.zo)("div",(function(e){return{marginRight:e.$theme.sizing.scale400}})),x=(0,f.zo)("div",(function(e){var n=e.$theme,t=n.typography,r=n.colors;return(0,c.Z)((0,c.Z)({},t.HeadingSmall),{},{color:r.mono900,textOverflow:"ellipsis",whiteSpace:"nowrap"})})),j=(0,f.w1)(p,(function(e){return{justifyContent:"space-between",paddingBottom:e.$theme.sizing.scale0}})),b=(0,f.w1)(p,{}),Z=(0,f.zo)("div",(function(e){var n=e.$theme,t=n.typography,r=n.colors;return(0,c.Z)((0,c.Z)({},t.font400),{},{color:r.mono700})})),w=(0,f.w1)(Z,(function(e){return{marginRight:e.$theme.sizing.scale600}})),z=(0,f.w1)(p,{marginRight:"7px"}),M=(0,f.w1)(Z,{}),T=(0,f.zo)("div",{display:"flex"}),R=(0,f.zo)("div",(function(e){var n=e.$theme.sizing;return{marginBottom:n.scale300,marginRight:n.scale600,marginTop:n.scale700}})),C=(0,f.zo)("div",(function(e){var n=e.$theme,t=n.typography,r=n.colors,a=n.sizing;return(0,c.Z)((0,c.Z)({},t.Caption2),{},{backgroundColor:r.warning50,borderColor:r.warning,borderRadius:a.scale100,borderStyle:"solid",borderWidth:"1px",fontSize:a.scale400,paddingBottom:a.scale100,paddingLeft:a.scale300,paddingRight:a.scale300,paddingTop:a.scale100})})),B=t(37574),S=function(){var e=(0,o.Zn)().location.attributes,n=e.displayName,t=e.filterStatus,c=e.mode,g=e.timeZone,f=e.startDate,p=e.endDate,Z=e.address,S=(0,r.useMemo)((function(){return g?a.ou.local().setZone(g).offsetNameLong:""}),[g]),$=window.location.pathname,L=$.includes("sandbox-")||$.includes("staging-");return(0,B.jsxs)(v,{children:[(0,B.jsxs)(h,{children:[(0,B.jsxs)(m,{children:[(0,B.jsx)(y,{children:(0,B.jsx)(s.N3,{status:t,mode:c})}),(0,B.jsx)(x,{children:n})]}),(0,B.jsx)(j,{children:(0,B.jsxs)(b,{children:[(0,B.jsx)(w,{children:"".concat((0,l._Q)((0,l.w)(f),(0,l.w)(p))," | ").concat(Z)}),(0,B.jsx)(z,{children:(0,B.jsx)(u.QQ5,{})}),(0,B.jsx)(M,{children:S})]})})]}),(0,B.jsxs)(T,{children:[L&&(0,B.jsx)(R,{children:(0,B.jsx)(C,{children:(0,B.jsx)(i.Z,{id:"eBVEeU",defaultMessage:[{type:0,value:"You are currently using the sandbox instance."},{type:1,value:"br"},{type:0,value:"Intended for use with Test Data only."}],values:{br:(0,B.jsx)("br",{})}})})}),(0,B.jsx)(d.T,{})]})]})}},2535:function(e,n,t){t.d(n,{F:function(){return a}});var r=t(30969),a=function(e){var n=(0,r.useRef)(!1);return(0,r.useEffect)((function(){e||n.current||(n.current=!0)}),[e]),e&&!n.current}},43811:function(e,n,t){t.r(n),t.d(n,{default:function(){return de}});var r=t(32723),a=t(56666),i=t(33028),o=t(34795),s=t(96234),l=t(30969),u=t(44584),d=t(65903),c=t(6167),g=t(55364),f=t(35207),h=t(70104),p=t(65944),v=t(48463),m=t(33179),y=t(57154),x=t(57579),j=t(45271),b=t(57608),Z=t(2535),w=t(71663),z=t(67475),M=t(9930),T=t(56147),R=(0,M.zo)("form",{display:"flex",flexDirection:"column",height:"calc(100vh - 86px)",overflow:"auto"}),C=(0,M.zo)("div",{display:"flex",flexDirection:"column",flexGrow:1}),B=(0,M.zo)("div",(function(e){var n=e.$theme,t=n.mediaQuery,r=n.sizing;return(0,a.Z)({width:"100%",paddingLeft:r.scale600,paddingRight:r.scale600,paddingTop:r.scale2400,flexGrow:1},t.medium,{paddingLeft:"40px",paddingRight:"112px",paddingTop:r.scale800})})),S=(0,M.zo)("span",{}),$=(0,M.zo)("span",(function(e){var n=e.$theme,t=n.colors,r=n.typography;return(0,i.Z)((0,i.Z)({},r.HeadingXSmall),{},{color:t.mono900})})),L=(0,M.zo)("div",(function(e){var n=e.$error,t=e.$theme.sizing;return{display:"flex",alignItems:"center",justifyContent:"space-between",paddingTop:n?t.scale100:t.scale650,paddingBottom:t.scale650}})),k=(0,M.zo)("div",(function(e){var n=e.$theme,t=n.colors,r=n.sizing,a=n.typography;return(0,i.Z)((0,i.Z)({},a.LabelSmall),{},{color:t.negative700,marginTop:r.scale100})})),E=(0,M.zo)("div",(function(e){var n=e.$theme.sizing;return{marginRight:n.scale400,marginLeft:n.scale400}})),q=(0,M.zo)(T.N,(function(e){return{marginBottom:e.$theme.sizing.scale500,width:"420px"}})),P=(0,M.zo)("div",(function(e){return{paddingRight:e.$theme.sizing.scale800}})),I=(0,M.zo)("div",(function(e){var n=e.$theme.typography;return(0,i.Z)({},n.Paragraph2)})),N=(0,M.zo)("div",(function(e){return{display:"flex",marginTop:e.$theme.sizing.scale300}})),V=(0,M.zo)("div",(function(e){return{marginTop:e.$theme.sizing.scale900}})),D=(0,M.zo)("div",(function(e){return{marginBottom:e.$theme.sizing.scale900}})),U=(0,M.zo)("div",(function(e){var n=e.$theme.typography;return(0,i.Z)({},n.Subtitle1)})),O=(0,M.zo)("div",(function(e){var n=e.$theme,t=n.typography,r=n.colors;return(0,i.Z)((0,i.Z)({},t.Caption1),{},{color:r.negative})})),A=(0,M.zo)("div",(function(e){return{marginTop:e.$theme.sizing.scale300}})),F=t(37574),Q=function(e){var n=e.label,t=e.name,r=e.children;return(0,F.jsx)(u.gN,{name:t,render:function(e){var a=e.input,i=a.value,o=a.onChange,s=e.meta.error;return(0,F.jsxs)(F.Fragment,{children:[s&&(0,F.jsx)(k,{children:s}),(0,F.jsxs)(L,{$error:s,children:[(0,F.jsx)(S,{children:(0,F.jsx)($,{children:n})}),(0,F.jsx)(E,{children:(0,F.jsx)(z.Z,{name:t,ariaLabel:n,checked:Boolean(i),onChange:function(e){return o(e.target.checked)}})})]}),i&&r]})}})},_=t(52850),H=t(71246),X=(0,g.vU)({engagementTypesLabel:{id:"jv01x2",defaultMessage:[{type:0,value:"Select engagement types"}]},searchPlaceholder:{id:"i4MHHj",defaultMessage:[{type:0,value:"Select engagement by name"}]},engagementTypeRequired:{id:"OE4/Pr",defaultMessage:[{type:0,value:"Atleast 1 engagement type is required"}]}}),W=function(){var e=(0,f.Z)().formatMessage,n=(0,v.yI)().fetchEngagementTypes,t=(0,l.useMemo)((function(){var e;return(null!==(e=null===n||void 0===n?void 0:n.map((function(e){return{id:e.id,label:e.name,displayOrder:e.displayOrder}})))&&void 0!==e?e:[]).sort((function(e,n){return e.displayOrder-n.displayOrder}))}),[n]);return(0,F.jsx)(H.g,{name:"engagementTypes",validations:[H.i.REQUIRED],format:function(e){return null!==e&&void 0!==e?e:[]},parse:function(e){return e.length?e:void 0},render:function(n){var r=n.input,a=n.meta,o=a.touched,s=a.error;return(0,F.jsx)(q,{label:(0,F.jsx)(U,{children:e(X.engagementTypesLabel)}),caption:o&&s&&(0,F.jsx)(O,{children:e(X.engagementTypeRequired)}),children:(0,F.jsx)(_.Ph,(0,i.Z)((0,i.Z)({},r),{},{id:"engagementType",multi:!0,options:t,backspaceClearsInputValue:!0,searchable:!0,placeholder:e(X.searchPlaceholder),onChange:function(e){var n=e.value;return r.onChange(n)}}))})}})},G=t(68079),K=(0,g.vU)({label:{id:"wOTXhx",defaultMessage:[{type:0,value:"When to send the auto reminders before the start of meeting?"}]},placeholder:{id:"t6lfmg",defaultMessage:[{type:0,value:"Please select"}]},daysBefore:{id:"fZfc1x",defaultMessage:[{type:1,value:"dayCount"},{type:0,value:" "},{type:6,value:"dayCount",options:{one:{value:[{type:0,value:"day"}]},other:{value:[{type:0,value:"days"}]}},offset:0,pluralType:"cardinal"},{type:0,value:" before"}]},daysBeforeRequired:{id:"mXEew3",defaultMessage:[{type:0,value:"Atleast 1 reminder is required"}]}}),Y=function(){var e=(0,f.Z)().formatMessage,n=(0,G.Z)(Array(7)).map((function(n,t){return{label:e(K.daysBefore,{dayCount:t+1}),id:"".concat(t+1)}})),t=(0,l.useState)(n),r=(0,s.Z)(t,2),a=r[0],o=r[1];return(0,F.jsx)(H.g,{name:"daysBefore",format:function(e){return n.filter((function(n){return null===e||void 0===e?void 0:e.includes(n.id)}))},validations:[H.i.REQUIRED],render:function(n){var t=n.input,r=n.meta.error;return(0,F.jsx)(q,{label:(0,F.jsx)(U,{children:e(K.label)}),caption:r&&(0,F.jsx)(O,{children:e(K.daysBeforeRequired)}),children:(0,F.jsx)(_.Ph,(0,i.Z)((0,i.Z)({},t),{},{onFocus:t.onFocus,onBlur:t.onBlur,id:"daysBefore",multi:!0,options:a,backspaceClearsInputValue:!0,searchable:!0,placeholder:e(K.placeholder),onInputChange:function(e){return o(e.target.value)},onChange:function(e){var n=e.value;return t.onChange(n.map((function(e){return e.id})))}}))})}})},J=t(7905),ee=(0,g.vU)({label:{id:"S48TVJ",defaultMessage:[{type:0,value:"Who will get the reminders?"}]},userTypeRequired:{id:"nbkjhi",defaultMessage:[{type:0,value:"Atleast 1 user type is required"}]}}),ne=[{id:"internal",label:"Internal Attendees"},{id:"external",label:"External Attendees"}],te=function(){var e=(0,f.Z)().formatMessage,n=(0,u.cl)(),t=n.values.userType,r=n.touched,a=n.submitSucceeded;return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(U,{children:e(ee.label)}),(0,F.jsx)(N,{children:ne.map((function(e,n){return(0,F.jsx)(H.g,{name:"userType[".concat(n,"]"),type:"checkbox",render:function(n){var r=n.input;return(0,F.jsx)(P,{children:(0,F.jsx)(J.XZ,(0,i.Z)((0,i.Z)({},r),{},{checked:t.includes(e.id),onChange:function(n){var t=n.target;r.onChange(t.checked?e.id:null)},children:(0,F.jsx)(I,{children:e.label})}))})}},e.id)}))}),((null===r||void 0===r?void 0:r["userType[0]"])||(null===r||void 0===r?void 0:r["userType[1]"])||a)&&!t.filter(Boolean).length&&(0,F.jsx)(A,{children:(0,F.jsx)(O,{children:e(ee.userTypeRequired)})})]})},re=t(44363),ae=function(){var e=(0,M.hQ)(),n=(0,s.Z)(e,2)[1],t={speed:2,primaryColor:n.colors.mono200,secondaryColor:n.colors.mono300};return(0,F.jsxs)(re.ZP,(0,i.Z)((0,i.Z)({width:"1000",height:"610",viewBox:"0 0 1000 600"},t),{},{children:[(0,F.jsx)("rect",{y:"12",x:"0",width:"138",height:"21"}),(0,F.jsx)("rect",{y:"14",x:"955",width:"36",height:"21",rx:"12",ry:"12"})]}))},ie=function(){return(0,F.jsx)(C,{children:(0,F.jsx)(B,{children:(0,F.jsx)(ae,{})})})},oe=(0,g.vU)({title:{id:"VA12NL",defaultMessage:[{type:0,value:"Meeting Reminders"}]},promptMessage:{id:"+VVRCR",defaultMessage:[{type:0,value:"Are you sure you want to leave?"}]}}),se=function(e){var n=e.handleSubmit,t=e.dirty,r=e.loading,a=(0,f.Z)().formatMessage,i=(0,w.y)(),o=(0,Z.F)(r);return(0,l.useEffect)((function(){i(t)}),[t,i]),(0,F.jsxs)(R,{onSubmit:n,noValidate:!0,children:[(0,F.jsx)(j.NL,{when:t,message:a(oe.promptMessage)}),o?(0,F.jsx)(ie,{}):(0,F.jsxs)(C,{children:[(0,F.jsx)(B,{children:(0,F.jsx)(Q,{label:a(oe.title),name:"enableMeetingReminder",children:(0,F.jsxs)(V,{children:[(0,F.jsx)(D,{children:(0,F.jsx)(te,{})}),(0,F.jsx)(D,{children:(0,F.jsx)(Y,{})}),(0,F.jsx)(D,{children:(0,F.jsx)(W,{})})]})})}),(0,F.jsx)(b.$,{})]})]})},le=(0,d.Z)(),ue=(0,g.vU)({genericError:{id:"yrtbWL",defaultMessage:[{type:0,value:"Something is not right. Please retry."}]},successMessage:{id:"y2tOTx",defaultMessage:[{type:0,value:"Your changes have been saved successfully"}]}}),de=function(){var e,n=(0,m.Zn)().location.id,t=(0,l.useState)(!1),d=(0,s.Z)(t,2),g=d[0],j=d[1],b=(0,f.Z)().formatMessage,Z=(0,v.xJ)(),w=(0,v.eN)({variables:{names:["auto_remind"]},context:{headers:{"X-Location-Uuid":n}},fetchPolicy:"cache-and-network",onError:function(){return(0,y.Eo)(b(ue.genericError))}}),z=w.bulkFetchLocationConfigsByName,M=void 0===z?[]:z,T=w.refetch,R=w.loading,C=(0,v.Ce)({notifyOnNetworkStatusChange:!0}),B=C.loading,S=C.getReminderSetting,$=(S=void 0===S?{}:S).userType,L=S.daysBefore,k=S.engagementTypes,E=C.error,q=C.refetch,P=M.find((function(e){return"auto_remind"===e.configName})),I="true"===(null===P||void 0===P||null===(e=P.configValue)||void 0===e?void 0:e.value),N=function(e){switch(e){case"all":return["internal","external"];case"internal":return["internal",void 0];case"external":return[void 0,"external"];default:return[""]}},V=(0,l.useMemo)((function(){return{enableMeetingReminder:I,userType:N($),daysBefore:null!==L&&void 0!==L&&L.length?L:["1"],engagementTypes:null===k||void 0===k?void 0:k.map((function(e){return{id:e.id,label:e.name}}))}}),[L,k,$,I]),D=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(n){var t,o,s,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===(o=null===(t=n.userType)||void 0===t?void 0:t.filter(Boolean))||void 0===o||!o.length)&&n.enableMeetingReminder){e.next=24;break}if(e.prev=2,j(!0),l=(0,i.Z)((0,i.Z)({},n.enableMeetingReminder&&{daysBefore:n.daysBefore,engagementTypeIds:null===(s=n.engagementTypes)||void 0===s?void 0:s.map((function(e){return e.id})),userType:2===(null===o||void 0===o?void 0:o.length)?"all":null===o||void 0===o?void 0:o[0]}),{},{configsToUpdate:[{configName:null===P||void 0===P?void 0:P.configName,configValue:{display_name:(null===P||void 0===P?void 0:P.configValue).display_name,value:n.enableMeetingReminder.toString()}}]}),!n.enableMeetingReminder){e.next=10;break}return e.next=8,(0,v.Zg)(Z,{variables:l});case 8:e.next=12;break;case 10:return e.next=12,(0,v.P4)(Z,{variables:l});case 12:return j(!1),(0,y.XA)(b(ue.successMessage)),T(),q(),e.abrupt("return",void 0);case 19:return e.prev=19,e.t0=e.catch(2),j(!1),(0,y.Eo)(b(ue.genericError)),e.abrupt("return",(0,a.Z)({},c.Ck,{code:"GenericError"}));case 24:return e.abrupt("return",void 0);case 25:case"end":return e.stop()}}),e,null,[[2,19]])})));return function(n){return e.apply(this,arguments)}}();if(E)return(0,F.jsx)(x.m,{onButtonClick:function(){return q()}});return(0,F.jsxs)(F.Fragment,{children:[g&&(0,F.jsx)(h.A,{}),(0,F.jsx)(p.q,{}),k&&(0,F.jsx)(u.l0,{onSubmit:D,initialValues:V,validate:function(e){var n,t,r,a,i={};e.enableMeetingReminder&&(null!==(n=e.userType)&&void 0!==n&&n.length&&2!==(null===(t=e.userType)||void 0===t?void 0:t.filter((function(e){return void 0===e})).length)||(i=(0,c.tP)(i,"userType","Required")),null!==(r=e.daysBefore)&&void 0!==r&&r.length||(i=(0,c.tP)(i,"daysBefore","Required")),null!==(a=e.engagementTypes)&&void 0!==a&&a.length||(i=(0,c.tP)(i,"engagementTypes","Required")));return i},decorators:[le],render:function(e){return(0,F.jsx)(se,(0,i.Z)((0,i.Z)({},e),{},{loading:B||R}))}})]})}},71663:function(e,n,t){t.d(n,{y:function(){return i}});var r=t(96234),a=t(30969),i=function(){var e=(0,a.useState)(!1),n=(0,r.Z)(e,2),t=n[0],i=n[1];return(0,a.useEffect)((function(){var e=function(e){e.preventDefault(),e.returnValue=""};return t?window.addEventListener("beforeunload",e):window.removeEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}}),[t]),i}}}]);
//# sourceMappingURL=811.7865310b.chunk.js.map