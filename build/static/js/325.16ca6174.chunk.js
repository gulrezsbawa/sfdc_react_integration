"use strict";(self.webpackChunk_jifflenow_selfserve=self.webpackChunk_jifflenow_selfserve||[]).push([[325],{25325:function(e,n,t){t.r(n),t.d(n,{SharedLinks:function(){return ri},default:function(){return ri}});var i={};t.r(i),t.d(i,{columnDefs:function(){return ct},columnHeaderNames:function(){return dt}});var a,r=t(54415),s=t(56666),o=t(96234),l=t(33028),d=t(30969),c=t(70104),u=t(67560),p=t.n(u),h=t(55976),g=t(57579),m=t(37574),f=function(e){return e.uuid},v={sortBy:"expiry",statuses:["pending","expired"],linkTypes:["singleUse"],engagementTypes:[],participants:[]},y=(0,d.createContext)(null),x="sharedLinksPreferences",j=function(e){var n=e.children,t=e.preferences,i=e.patchPreferences,a=(0,d.useMemo)((function(){return{preferences:t,patchPreferences:i}}),[t,i]);return(0,m.jsx)(y.Provider,{value:a,children:n})},b=function(){var e=(0,d.useState)({}),n=(0,o.Z)(e,2),t=n[0],i=n[1];(0,d.useEffect)((function(){var e=function(e){e.key===x&&i(JSON.parse(e.newValue||"{}"))};return window.addEventListener("storage",e),function(){window.removeEventListener("storage",e)}}),[i]);return{preferences:t,initPreferences:function(e){var n,t,a=null!==(n=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.sharedLinks)&&void 0!==n?n:{},r=Object.keys(v).reduce((function(e,n){var t;return(0,l.Z)((0,l.Z)({},e),{},(0,s.Z)({},n,null!==(t=a[n])&&void 0!==t?t:v[n]))}),v);i(r),window.localStorage.setItem(x,JSON.stringify(r))},patchPreferences:function(e){var n=e.sortBy,a=e.sortOrder;if(n){var r="expiresAt"===n;e.sortBy=r&&"ASC"===a?"expiry":r&&"DESC"===a?"-expiry":"createdAt"===n&&"DESC"===a?"-".concat(n):n}var s,o=p()(t,e,{arrayMerge:function(e,n){return n}});i(o),(0,h.patchSharedLinkPreferences)((s=o,{data:{sharedLinks:(0,l.Z)((0,l.Z)({},s),{},{participants:s.participants.map(f),engagementTypes:s.engagementTypes.map(f)})}})).then((function(){return window.localStorage.setItem(x,JSON.stringify(o))}))}}},k=function(e){var n=(0,h.useSharedLinkPreferences)(e);return(0,m.jsxs)(m.Fragment,{children:[!n.isSettled&&(0,m.jsx)(c.A,{}),(0,m.jsx)(h.IfRejected,{state:n,children:function(){return(0,m.jsx)(g.m,{onButtonClick:n.reload})}})]})},L=function(e){var n=e.children,t=b(),i=t.preferences,a=t.initPreferences,r=t.patchPreferences;return 0===Object.keys(i).length?(0,m.jsx)(k,{onResolve:a}):(0,m.jsx)(j,{preferences:i,patchPreferences:r,children:n})},M=function(){var e=(0,d.useContext)(y);return e},S=t(59740),w=t(81700),C=t(55364),Z=t(35207),E=t(24944),R=t(5026),T=t(92778),B=t(68083),z=t(8967),I=t(28958),P=t(45271),U=t(33179),A=t(55819),N=t(85113),O={TabList:{style:function(e){var n=e.$theme.sizing;return{paddingLeft:n.scale600,paddingRight:n.scale600,paddingBottom:0,marginBottom:0}}},TabHighlight:{style:function(e){return{borderRadius:e.$theme.sizing.scale0}}},TabBorder:{style:{display:"none"}}},D={TabPanel:{style:function(e){return{paddingTop:e.$theme.sizing.scale600,paddingLeft:0,paddingRight:0,paddingBottom:0}}}},$=t(27690),_={TabList:{style:function(e){var n=e.$theme.sizing;return{paddingLeft:n.scale600,paddingRight:n.scale600,paddingBottom:0,marginBottom:0}}},TabHighlight:{style:function(e){return{borderRadius:e.$theme.sizing.scale0}}},TabBorder:{style:function(e){return{height:"1px",backgroundColor:e.$theme.colors.mono400}}}},F={TabPanel:{style:function(e){var n=e.$theme,t=n.sizing;return{backgroundColor:n.colors.mono200,paddingTop:t.scale600,paddingLeft:t.scale600,paddingRight:t.scale600,paddingBottom:0}}}},Q=function(e){return{DrawerContainer:{style:(0,l.Z)((0,l.Z)({},e?{maxWidth:"360px"}:{}),{},{borderTopLeftRadius:0,borderTopRightRadius:0,borderBottomRightRadius:0,borderBottomLeftRadius:0})}}},V={BaseButton:{style:{minWidth:"100%"}}},W={BaseButton:{style:function(e){var n=e.$theme.sizing;return{marginRight:n.scale500,paddingTop:n.scale0,paddingRight:n.scale0,paddingBottom:n.scale0,paddingLeft:n.scale0,width:n.scale800,height:n.scale800}}}},H=function(e){var n=e.children,t=e.onClose,i=e.isWebApp;return(0,m.jsx)($.dy,{size:"100%",isOpen:!0,onClose:t,overrides:Q(i),children:n})},X=t(9930),J=(0,X.w1)($.gM,(function(e){var n=e.$theme.sizing;return{alignItems:"flex-start",boxShadow:"none",flexShrink:0,paddingTop:n.scale600,paddingLeft:n.scale600,paddingRight:n.scale600,position:"relative"}})),G=(0,X.zo)("div",{marginLeft:"auto"}),q=(0,X.zo)("div",{flex:"1 1 0%",minWidth:0}),K=(0,X.zo)("div",{display:"flex",alignItems:"center"}),Y=(0,X.zo)("header",(function(e){var n=e.$theme.typography;return(0,l.Z)((0,l.Z)({},n.HeadingXSmall),{},{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"})})),ee=(0,X.zo)("div",(function(e){return{position:"sticky",bottom:0,padding:e.$theme.sizing.scale600}})),ne=function(e){var n=e.children,t=e.onClick,i=e.dataPendo;return(0,m.jsx)(ee,{children:(0,m.jsx)(z.zx,{type:"button",kind:z.TO.secondary,overrides:V,onClick:t,"data-pendo":i,children:n})})},te=t(63077),ie=function(e){return(0,m.jsx)(te.W,(0,l.Z)({overrides:W,size:24},e))},ae=t(44363),re=t(25870),se=["children"],oe=function(e){var n=e.children,t=(0,S.Z)(e,se),i=(0,re.bS)().platform,a=(0,X.hQ)(),r=(0,o.Z)(a,2)[1].colors,s=(0,l.Z)((0,l.Z)({speed:2,primaryColor:r.mono200,secondaryColor:r.mono300,height:"140"},t),{},{animate:"mobile"!==i});return(0,m.jsx)(ae.ZP,(0,l.Z)((0,l.Z)({},s),{},{children:n}))},le=function(){return(0,m.jsxs)(oe,(0,l.Z)((0,l.Z)({},{width:"320",height:"1000",viewBox:"0 0 320 1000"}),{},{children:[(0,m.jsx)("rect",{y:"0",x:"16",width:"20",height:"22"}),(0,m.jsx)("rect",{y:"4",x:"52",width:"140",height:"18"}),(0,m.jsx)("rect",{y:"26",x:"52",width:"160",height:"22",rx:"10",ry:"10"}),(0,m.jsx)("rect",{y:"4",x:"294",width:"3",height:"16"}),(0,m.jsx)("rect",{y:"70",x:"16",width:"16",height:"16",rx:"10",ry:"10"}),(0,m.jsx)("rect",{y:"72",x:"40",width:"150",height:"14"}),(0,m.jsx)("rect",{y:"90",x:"40",width:"80",height:"10"}),(0,m.jsx)("rect",{y:"124",x:"16",width:"16",height:"16",rx:"10",ry:"10"}),(0,m.jsx)("rect",{y:"126",x:"40",width:"100",height:"14"}),(0,m.jsx)("rect",{y:"144",x:"40",width:"200",height:"10"}),(0,m.jsx)("rect",{y:"180",x:"16",width:"16",height:"16",rx:"10",ry:"10"}),(0,m.jsx)("rect",{y:"180",x:"42",width:"80",height:"16"}),(0,m.jsx)("rect",{y:"225",x:"28",width:"60",height:"10"}),(0,m.jsx)("rect",{y:"225",x:"110",width:"120",height:"10"}),(0,m.jsx)("rect",{y:"240",x:"28",width:"70",height:"3"}),(0,m.jsx)("rect",{y:"264",x:"16",width:"120",height:"12"}),(0,m.jsx)("rect",{y:"296",x:"16",width:"16",height:"16",rx:"10",ry:"10"}),(0,m.jsx)("rect",{y:"296",x:"42",width:"120",height:"14"}),(0,m.jsx)("rect",{y:"300",x:"294",width:"3",height:"16"}),(0,m.jsx)("rect",{y:"316",x:"42",width:"100",height:"10"}),(0,m.jsx)("rect",{y:"346",x:"16",width:"16",height:"16",rx:"10",ry:"10"}),(0,m.jsx)("rect",{y:"346",x:"42",width:"100",height:"14"}),(0,m.jsx)("rect",{y:"350",x:"294",width:"3",height:"16"}),(0,m.jsx)("rect",{y:"366",x:"42",width:"130",height:"10"}),(0,m.jsx)("rect",{y:"406",x:"16",width:"130",height:"12"}),(0,m.jsx)("rect",{y:"436",x:"16",width:"16",height:"16",rx:"10",ry:"10"}),(0,m.jsx)("rect",{y:"436",x:"42",width:"120",height:"14"}),(0,m.jsx)("rect",{y:"440",x:"294",width:"3",height:"16"}),(0,m.jsx)("rect",{y:"456",x:"42",width:"100",height:"10"}),(0,m.jsx)("rect",{y:"486",x:"16",width:"16",height:"16",rx:"10",ry:"10"}),(0,m.jsx)("rect",{y:"486",x:"42",width:"100",height:"14"}),(0,m.jsx)("rect",{y:"490",x:"294",width:"3",height:"16"}),(0,m.jsx)("rect",{y:"516",x:"42",width:"130",height:"10"})]}))},de=t(980),ce=t(21449),ue=t(92570),pe=t(57154),he={List:{style:function(e){return{borderWidth:"1px",borderStyle:"solid",borderColor:e.$theme.colors.mono400,minWidth:"100px"}}},Option:{style:function(e){var n=e.$theme,t=n.sizing,i=n.typography;return(0,l.Z)((0,l.Z)({},i.Paragraph2),{},{paddingLeft:t.scale500,paddingRight:t.scale500})}}},ge=t(56799),me=t(48463),fe=t(68079),ve=t(32723),ye=t(34795),xe=t(63056),je=t(6167),be=t(44584),ke=t(91139),Le=t(85196),Me=t(71246),Se=t(26326),we=t(56147),Ce=(0,X.zo)(z.zx,{minWidth:"99px"}),Ze=(0,X.zo)(we.N,(function(e){return{marginBottom:e.$theme.sizing.scale800}})),Ee=(0,X.zo)("span",(function(e){var n=e.$theme.typography;return(0,l.Z)({},n.Paragraph1)})),Re=(0,X.w1)(Le.fe,{display:"flex",flexDirection:"column"}),Te={BaseButton:{style:function(e){return{marginLeft:e.$theme.sizing.scale600}}}},Be=t(12996),ze=t(52850),Ie=(0,C.vU)({otherReasonPlaceholder:{id:"LrU1PJ",defaultMessage:[{type:0,value:"Type here"}]}}),Pe=function(e){var n=e.input,t=e.meta,i=t.touched,a=t.error,r=(0,Z.Z)().formatMessage;return(0,m.jsx)(Ze,{error:i&&a,children:(0,m.jsx)(Be.gx,(0,l.Z)((0,l.Z)({},n),{},{placeholder:r(Ie.otherReasonPlaceholder),inputProps:{"data-pendo":"meetings/cancel-other-reasons"}}))})},Ue=function(e){var n=e.input,t=e.meta,i=t.touched,a=t.error,r=e.options,s=e.label,c=(0,d.useState)([]),u=(0,o.Z)(c,2),p=u[0],h=u[1],g=(0,d.useCallback)((function(e){h(e),n.onChange(e[0].id)}),[]);return(0,d.useEffect)((function(){g([r[0]])}),[g,r]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(Ze,{label:s,error:i&&a,children:(0,m.jsx)(ze.Ph,(0,l.Z)((0,l.Z)({},n),{},{clearable:!1,id:"reason",options:r,value:p,onChange:function(e){var n=e.value;return g(n)},"data-pendo":"shared-links/cancel-reasons"}))}),"other"===n.value?(0,m.jsx)(Me.g,{name:"other",render:Pe,validations:[Me.i.REQUIRED]}):null]})},Ae=(0,C.vU)({genericError:{id:"yrtbWL",defaultMessage:[{type:0,value:"Something is not right. Please retry."}]},cancelConfirmation:{id:"ewIGcr",defaultMessage:[{type:0,value:"Are you sure you want to cancel the link?"}]},deleteConfirmation:{id:"SvxysY",defaultMessage:[{type:0,value:"Are you sure you want to delete the link?"}]},cancelScheduled:{id:"qI1AwQ",defaultMessage:[{type:0,value:"Your link will be canceled and already scheduled upcoming meetings will also be canceled"}]},deleteScheduled:{id:"y+BQe8",defaultMessage:[{type:0,value:"Your link will be deleted and already scheduled upcoming meetings will also be canceled"}]},cancelLinkSuccessMessage:{id:"vOoaom",defaultMessage:[{type:0,value:"The link is canceled successfully."}]},deleteLinkSuccessMessage:{id:"dyiae/",defaultMessage:[{type:0,value:"The link is deleted successfully."}]},optionOtherReason:{id:"85DBmB",defaultMessage:[{type:0,value:"Other reasons"}]},enabledCancelButtonLabel:{id:"vlDynP",defaultMessage:[{type:0,value:"Discard"}]},enabledSuccessButtonLabel:{id:"uhsHDt",defaultMessage:[{type:0,value:"Proceed"}]},successButtonLabel:{id:"3ebjtX",defaultMessage:[{type:0,value:"Yes"}]},cancelButtonLabel:{id:"yhU8J6",defaultMessage:[{type:0,value:"No"}]},cancellationLabel:{id:"h1j7Lb",defaultMessage:[{type:0,value:"Please mention the reason for cancellation"}]},deletionLabel:{id:"k6e8Ny",defaultMessage:[{type:0,value:"Please mention the reason for deletion"}]}}),Ne=(0,ke.Z)({field:"reason",updates:{other:function(){return""}}}),Oe=function(e){var n=e.eventName,t=e.status,i=e.token,a=e.action,r=e.reasons,o=e.enabled,l=e.onClose,d=e.onSuccess,u=(0,Z.Z)().formatMessage,p=(0,h.useSummitV1Client)(n),g=(0,E.useMutation)("cancelLink",(0,h.cancelInboundLinkMutationFn)({token:i,client:p})),f=g.mutateAsync,v=g.isLoading,y=(0,E.useMutation)("declineLink",(0,h.deleteInboundLinkMutationFn)({token:i,client:p})),x=y.mutateAsync,j=y.isLoading,b=function(){var e=(0,ye.Z)((0,ve.Z)().mark((function e(n){var t,i,r,o;return(0,ve.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.reason,i=n.other,r=i||t,e.prev=2,"canCancel"!==a){e.next=8;break}return e.next=6,f({cancel_comments:r});case 6:o=e.sent,(0,pe.XA)(u(Ae.cancelLinkSuccessMessage));case 8:if("canDelete"!==a){e.next=13;break}return e.next=11,x({cancel_comments:r});case 11:o=e.sent,(0,pe.XA)(u(Ae.deleteLinkSuccessMessage));case 13:return d(a,o),e.abrupt("return",void 0);case 17:return e.prev=17,e.t0=e.catch(2),(0,pe.Eo)(u(Ae.genericError)),e.abrupt("return",(0,s.Z)({},je.Ck,{code:"GenericError"}));case 21:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(n){return e.apply(this,arguments)}}(),k=[].concat((0,fe.Z)(r.map((function(e){return{label:e,id:e}}))),[{label:u(Ae.optionOtherReason),id:"other"}]);return(0,m.jsxs)(m.Fragment,{children:[(j||v)&&(0,m.jsx)(c.A,{}),(0,m.jsx)(be.l0,{decorators:[Ne],onSubmit:b,render:function(e){var n=e.handleSubmit;return(0,m.jsx)(Le.u_,{size:Le.NO.small,onClose:l,isOpen:!0,children:(0,m.jsxs)("form",{onSubmit:n,children:[(0,m.jsx)(Le.xB,{children:u(Ae["canCancel"===a?"scheduled"===t?"cancelScheduled":"cancelConfirmation":"scheduled"===t?"deleteScheduled":"deleteConfirmation"])}),(0,m.jsxs)(Re,{children:[o&&"scheduled"===t&&(0,m.jsx)(Me.g,{label:u(Ae["canCancel"===a?"cancellationLabel":"deletionLabel"]),name:"reason",render:Ue,options:k,validations:[Me.i.REQUIRED]}),(0,m.jsx)(Ee,{children:(0,m.jsx)(xe.Z,{id:"lXecBW",defaultMessage:[{type:0,value:"Please note: This action cannot be reverted."}]})})]}),(0,m.jsxs)(Le.mz,{children:[(0,m.jsx)(Se.Lu,{type:"button",kind:z.TO.tertiary,onClick:l,"data-pendo":"shared-link/discard-cancel-reasons",children:u(Ae[o&&"scheduled"===t?"enabledCancelButtonLabel":"cancelButtonLabel"])}),(0,m.jsx)(Se.Lu,{type:"submit",overrides:Te,"data-pendo":"shared-link/submit-cancel-reasons",children:u(Ae[o&&"scheduled"===t?"enabledSuccessButtonLabel":"successButtonLabel"])})]})]})})}})]})},De=(0,C.vU)({genericError:{id:"yrtbWL",defaultMessage:[{type:0,value:"Something is not right. Please retry."}]}}),$e=function(e){var n=(0,Z.Z)().formatMessage,t=e.engagementTypeUuid,i=e.currentLocationUuid,a=e.onClose,r=(0,d.useState)(),u=(0,o.Z)(r,2),p=u[0],h=u[1],g=(0,me.jv)({variables:{engagementTypeUuid:t,names:["cancel_comments_enabled","predefined_cancel_comments"]},context:{headers:{"X-Location-Uuid":i}},onError:function(){a(),(0,pe.Eo)(n(De.genericError))}}),f=g.loading,v=g.engagementTypeSettings;return(0,d.useEffect)((function(){if(v){var e=v.reduce((function(e,n){var t=n.name,i=n.value;return(0,l.Z)((0,l.Z)({},e),{},(0,s.Z)({},t,i.value))}),{});h({cancel_comments_enabled:e.cancel_comments_enabled,predefined_cancel_comments:JSON.parse(e.predefined_cancel_comments)})}}),[v]),f||!p?(0,m.jsx)(c.A,{}):(0,m.jsx)(Oe,(0,l.Z)((0,l.Z)({},e),{},{enabled:"true"===p.cancel_comments_enabled,reasons:p.predefined_cancel_comments}))},_e=(0,C.vU)({labelAll:{id:"JTmwLf",defaultMessage:[{type:0,value:"All"}]},genericError:{id:"yrtbWL",defaultMessage:[{type:0,value:"Something is not right. Please retry."}]},successMessage:{id:"ijmGOq",defaultMessage:[{type:0,value:"Participants are reminded successfully."}]}}),Fe=function(e){var n=e.token,t=e.eventName,i=e.attendees,a=e.onClose,r=(0,Z.Z)().formatMessage,o=(0,h.useSummitV1Client)(t),u=(0,E.useMutation)("remindParticipants",(0,h.remindParticipantsMutationFn)({token:n,client:o})),p=u.mutateAsync,g=u.isLoading,f=function(){var e=(0,ye.Z)((0,ve.Z)().mark((function e(n){var t;return(0,ve.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=n.participants,e.next=4,p({userUuids:t.some((function(e){return"All"===e}))?i.map((function(e){return e.uuid})):t});case 4:return a(),(0,pe.XA)(r(_e.successMessage)),e.abrupt("return",void 0);case 9:return e.prev=9,e.t0=e.catch(0),(0,pe.Eo)(r(_e.genericError)),e.abrupt("return",(0,s.Z)({},je.Ck,{code:"GenericError"}));case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}(),v=[].concat((0,fe.Z)(i.map((function(e){var n=e.uuid;return{label:e.email,id:n}}))),[i.length&&{label:r(_e.labelAll),id:"All"}]).filter(Boolean),y=(0,d.useMemo)((function(){return i.map((function(e){return e.uuid}))}),[i]);return(0,m.jsxs)("div",{onClick:function(e){return e.stopPropagation()},children:[g&&(0,m.jsx)(c.A,{}),(0,m.jsx)(Le.u_,{isOpen:!0,size:Le.NO.small,onClose:a,children:(0,m.jsx)(be.l0,{onSubmit:f,initialValues:{participants:y},render:function(e){var n=e.handleSubmit;return(0,m.jsxs)("form",{onSubmit:n,noValidate:!0,children:[(0,m.jsx)(Le.xB,{children:(0,m.jsx)(xe.Z,{id:"Tan7cx",defaultMessage:[{type:0,value:"Send a reminder to following participants"}]})}),(0,m.jsx)(Le.fe,{children:(0,m.jsx)(Me.g,{name:"participants",format:function(e){return e?v.filter((function(n){return e.indexOf(n.id)+1})):[]},parse:function(e){return e.length?e.some((function(e){return"All"===e.id}))?["All"]:e.map((function(e){return e.id})):void 0},render:function(e){var n=e.input,t=e.meta,i=t.touched,a=t.error;return(0,m.jsx)(we.N,{error:i&&a,children:(0,m.jsx)(ze.Ph,(0,l.Z)((0,l.Z)({},n),{},{multi:!0,id:"managedUsers",options:v,backspaceClearsInputValue:!0,onChange:function(e){var t=e.value;return n.onChange(t)},required:!0}))})},validations:[Me.i.REQUIRED]})}),(0,m.jsxs)(Le.mz,{children:[(0,m.jsx)(Ce,{kind:z.TO.tertiary,onClick:a,children:(0,m.jsx)(xe.Z,{id:"PyxZY2",defaultMessage:[{type:0,value:"Cancel"}]})}),(0,m.jsx)(Ce,{type:"submit",overrides:Te,children:(0,m.jsx)(xe.Z,{id:"XUJVbg",defaultMessage:[{type:0,value:"Send"}]})})]})]})}})})]})},Qe=["close","onLinkEdit","onScheduleMeeting"],Ve=(0,C.vU)({editLink:{id:"7cm3iD",defaultMessage:[{type:0,value:"Edit"}]},scheduleLink:{id:"VjXA8l",defaultMessage:[{type:0,value:"Schedule"}]},copyLink:{id:"0fcNme",defaultMessage:[{type:0,value:"Copy link"}]},remindParticipants:{id:"nuXOjd",defaultMessage:[{type:0,value:"Remind"}]},renewLink:{id:"0ve1In",defaultMessage:[{type:0,value:"Renew"}]},cancel:{id:"KASwf1",defaultMessage:[{type:0,value:"Cancel"}]},delete:{id:"29B9oF",defaultMessage:[{type:0,value:"Delete"}]},linkCopied:{id:"MSjdbD",defaultMessage:[{type:0,value:"Link copied to clipboard"}]},genericError:{id:"yrtbWL",defaultMessage:[{type:0,value:"Something is not right. Please retry."}]},cancelConfirmation:{id:"ewIGcr",defaultMessage:[{type:0,value:"Are you sure you want to cancel the link?"}]}}),We=(0,C.vU)({canRenewExpiry:{id:"VmXQnD",defaultMessage:[{type:0,value:"The link is renewed successfully"}]},canCancel:{id:"vOoaom",defaultMessage:[{type:0,value:"The link is canceled successfully."}]},canDelete:{id:"dyiae/",defaultMessage:[{type:0,value:"The link is deleted successfully."}]}}),He=function(e){var n,t;return null===(n=(t=e.item).onItemSelect)||void 0===n?void 0:n.call(t,e)},Xe=function(e){var n=e.close,t=e.onLinkEdit,i=e.onScheduleMeeting,a=(0,S.Z)(e,Qe),r=(0,Z.Z)().formatMessage,s=(0,E.useQueryClient)(),u=a.id,p=a.link,g=a.eventName,f=a.status,v=a.actions,y=v.canEdit,x=v.canCopy,j=v.canRemindParticipants,b=v.canRenewExpiry,k=v.canCancel,L=v.canDelete,M=v.canScheduleMeeting,w=a.attendees,C=a.currentLocationUuid,R=a.engagementTypeUuid,T=(0,h.useSummitV1Client)(g),B=(0,d.useState)(),z=(0,o.Z)(B,2),I=z[0],P=z[1],U=(0,d.useState)(!1),A=(0,o.Z)(U,2),N=A[0],O=A[1],D=function(e){(0,pe.XA)(r(We[e])),s.invalidateQueries("sharedLinkDetails"),s.invalidateQueries("sharedLinks"),n()},$={client:T,token:u},_=(0,E.useMutation)("renewLink",h.renewInboundLinkMutationFn,{onSuccess:function(){return D("canRenewExpiry")},onError:function(){(0,pe.Eo)(r(Ve.genericError)),n()}}),F=_.mutate,Q=_.isLoading,V=w.filter((function(e){return"external"===e.type})),W=[y&&{label:r(Ve.editLink),dataPendo:"shared-links/edit-link",onItemSelect:function(){null===t||void 0===t||t(),n()}},x&&{label:(0,m.jsx)(ce.CopyToClipboard,{text:p,onCopy:function(){(0,pe.XA)(r(Ve.linkCopied)),n()},children:(0,m.jsx)("span",{children:r(Ve.copyLink)})}),dataPendo:"shared-links/copy-link"},M&&{label:r(Ve.scheduleLink),dataPendo:"shared-links/schedule-link",onItemSelect:function(){null===i||void 0===i||i(),n()}},j&&V.length&&{label:r(Ve.remindParticipants),onItemSelect:function(){return O(!0)}},b&&{label:r(Ve.renewLink),dataPendo:"shared-links/renew-link",onItemSelect:function(){return F($)}},k&&{label:r(Ve.cancel),dataPendo:"shared-links/cancel-link",onItemSelect:function(){return P("canCancel")}},L&&{label:r(Ve.delete),dataPendo:"shared-links/delete-link",onItemSelect:function(){return P("canDelete")}}].filter(Boolean),H=Q,X={status:f,token:u,eventName:g,currentLocationUuid:C,engagementTypeUuid:R};return(0,m.jsxs)(m.Fragment,{children:[I&&(0,m.jsx)($e,(0,l.Z)({onClose:function(){return P(void 0)},onSuccess:D,action:I},X)),N&&(0,m.jsx)(Fe,{token:u,eventName:g,attendees:V,onClose:function(){return O(!1)}}),H&&(0,m.jsx)(c.A,{}),(0,m.jsx)(ue.Z,{items:W,onItemSelect:He,overrides:he})]})},Je=function(e){var n=e.actions;return Object.keys(n).some((function(e){return n[e]}))?(0,m.jsx)(ge.R,{content:function(n){var t=n.close;return(0,m.jsx)(Xe,(0,l.Z)({close:t},e))}}):null},Ge=(0,X.zo)("div",(function(e){var n=e.$theme.sizing;return{display:"flex",marginBottom:n.scale650,paddingLeft:n.scale600,paddingRight:n.scale600}})),qe=(0,X.zo)("div",(function(e){return{paddingTop:e.$theme.sizing.scale0}})),Ke=(0,X.zo)("div",(function(e){return{width:"100%",display:"flex",flexDirection:"column",marginLeft:e.$theme.sizing.scale300}})),Ye=(0,X.zo)("div",{display:"flex",flexDirection:"column",height:"100vh"}),en=(0,X.zo)("div",(function(e){return{display:"flex",flexDirection:"column",flex:"1 0 auto",marginTop:e.$theme.sizing.scale600,overflowY:"auto"}})),nn=(0,X.zo)("div",(function(e){var n=e.$theme,t=n.typography,i=n.sizing;return(0,l.Z)((0,l.Z)({},t.LabelSmall),{},{marginBottom:i.scale100})})),tn=(0,X.zo)("div",(function(e){var n=e.$theme,t=n.typography,i=n.sizing;return(0,l.Z)((0,l.Z)({},t.LabelSmall),{},{marginBottom:i.scale200})})),an=(0,X.zo)("div",(function(e){var n=e.$theme,t=n.typography,i=n.colors;return(0,l.Z)((0,l.Z)({},t.Caption1),{},{color:i.mono700})})),rn=(0,X.zo)("ul",{padding:0,margin:0}),sn=(0,X.zo)("li",(function(e){return{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:e.$theme.sizing.scale800}})),on=(0,X.zo)("div",(function(e){var n=e.$theme.typography;return(0,l.Z)((0,l.Z)({},n.LabelSmall),{},{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"})})),ln=(0,X.zo)("div",{minWidth:0}),dn=(0,X.zo)("div",{display:"flex"}),cn=(0,X.zo)("div",{display:"flex",flexWrap:"wrap"}),un=(0,X.zo)("div",(function(e){var n=e.$theme,t=n.typography,i=n.colors,a=n.sizing;return(0,l.Z)((0,l.Z)({},t.Caption1),{},{backgroundColor:i.primary500,color:i.white,borderRadius:"21px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",paddingLeft:a.scale300,paddingRight:a.scale300,paddingTop:a.scale0,paddingBottom:a.scale0,textTransform:"capitalize",marginRight:a.scale100,marginTop:a.scale100})})),pn=(0,X.zo)("div",{display:"flex",flexDirection:"column"}),hn=(0,X.zo)("div",{display:"flex",flexDirection:"column",minWidth:"100%"}),gn=(0,X.zo)("div",(function(e){return{display:"flex",marginBottom:e.$theme.sizing.scale650}})),mn=(0,X.zo)("div",(function(e){var n=e.$status,t=e.$theme,i=t.colors,a=t.sizing;return{backgroundColor:{pending:i.warning,scheduled:i.positive,cancelled:i.negative,expired:i.negative}[n],position:"absolute",left:0,right:0,bottom:0,height:a.scale100}})),fn=(0,X.zo)("span",(function(e){var n=e.$theme,t=n.typography,i=n.colors;return(0,l.Z)((0,l.Z)({},t.ParagraphSmall),{},{color:i.negative})})),vn=(0,X.zo)("div",(function(e){var n=e.$theme,t=n.typography,i=n.sizing;return(0,l.Z)((0,l.Z)({},t.LabelSmall),{},{marginBottom:i.scale400})})),yn=(0,X.w1)(vn,(function(e){return{color:e.$theme.colors.mono700}})),xn=function(e){var n=e.linkDetails,t=e.secondaryActions,i=e.onLinkEdit,a=e.onScheduleMeeting,r=(0,$.yT)().closeDrawer,s=n.id,o=n.attributes,d=o.primaryId,c=o.meetingWith,u=o.link,p=o.status,h=o.relationships,g=h.location,f=g.systemName,v=g.displayName,y=g.uuid,x={id:s,link:u,actions:t,eventName:f,status:p,onLinkEdit:i,onScheduleMeeting:a,attendees:h.attendees,currentLocationUuid:y,engagementTypeUuid:h.engagementType.uuid};return(0,m.jsxs)(J,{children:[(0,m.jsx)(ie,{onClick:function(){return r()}}),(0,m.jsxs)(q,{children:[(0,m.jsx)(K,{children:(0,m.jsx)(de.P,{content:c,showArrow:!0,children:(0,m.jsx)(Y,{children:c})})}),(0,m.jsxs)(K,{children:["#",d,"\xa0|\xa0",v]})]}),(0,m.jsx)(G,{children:(0,m.jsx)(Je,(0,l.Z)({},x))}),(0,m.jsx)(mn,{$status:p})]})},jn={Root:{style:function(e){var n=e.$theme.colors;return{borderTopWidth:"1px",borderBottomWidth:"1px",borderLeftWidth:"1px",borderRightWidth:"1px",borderTopStyle:"solid",borderLeftStyle:"solid",borderRightStyle:"solid",borderBottomStyle:"solid",borderTopColor:n.mono400,borderBottomColor:n.mono400,borderLeftColor:n.mono400,borderRightColor:n.mono400}}},Header:{style:function(e){var n=e.$theme,t=n.colors,i=n.sizing;return{backgroundColor:t.mono200,color:t.mono900,paddingLeft:i.scale500,paddingRight:i.scale500,borderBottomWidth:"1px",borderBottomStyle:"solid",borderBottomColor:t.mono400,":hover":{color:t.mono900}}}},PanelContainer:{style:{borderBottomStyle:"none"}},Content:{style:function(e){var n=e.$theme,t=n.sizing,i=n.colors;return{paddingLeft:t.scale500,paddingRight:t.scale500,paddingBottom:t.scale400,paddingTop:t.scale400,backgroundColor:i.mono200}}}},bn=function(e){return{BaseButton:{style:function(n){var t=n.$theme,i=t.colors,a=t.sizing,r=t.typography;return(0,l.Z)((0,l.Z)((0,l.Z)({},r.LabelSmall),e?{display:"block",marginBottom:a.scale300,backgroundColor:i.mono200}:null),{},{paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0})}}}},kn={Svg:{style:function(e){return{color:e.$theme.colors.mono700}}}},Ln={Svg:{style:function(e){var n=e.$theme,t=n.sizing,i=n.colors;return{marginRight:t.scale100,color:i.mono700}}}},Mn=["close"],Sn=(0,C.vU)({remindSuccessMessage:{id:"SqM8GC",defaultMessage:[{type:0,value:"Reminded participant successfully"}]},removeSuccessMessage:{id:"F1uxsN",defaultMessage:[{type:0,value:"Removed participant successfully"}]},remindLabel:{id:"nuXOjd",defaultMessage:[{type:0,value:"Remind"}]},removeLabel:{id:"dc85my",defaultMessage:[{type:0,value:"Remove"}]},genericError:{id:"yrtbWL",defaultMessage:[{type:0,value:"Something is not right. Please retry."}]},meetingHostLabel:{id:"zaHH4p",defaultMessage:[{type:0,value:"Meeting Host"}]}}),wn=function(e){var n,t;return null===(n=(t=e.item).onItemSelect)||void 0===n?void 0:n.call(t,e)},Cn=function(e){var n=e.close,t=(0,S.Z)(e,Mn),i=(0,Z.Z)().formatMessage,a=(0,E.useQueryClient)(),r=t.id,s=t.eventName,o=t.actions,d=o.canRemindParticipants,u=o.canEdit,p=t.userUuid,g=(0,h.useSummitV1Client)(s),f=function(){(0,pe.Eo)(i(Sn.genericError)),n()},v=function(e){switch(e){case"canRemindParticipants":(0,pe.XA)(i(Sn.remindSuccessMessage));break;case"canEdit":(0,pe.XA)(i(Sn.removeSuccessMessage))}a.invalidateQueries("sharedLinkDetails"),n()},y={client:g,token:r},x=(0,E.useMutation)("remindParticipants",(0,h.remindParticipantsMutationFn)(y),{onSuccess:function(){return v("canRemindParticipants")},onError:f}),j=x.mutate,b=x.isLoading,k=(0,E.useMutation)("remindParticipants",h.removeParticipantsMutationFn,{onSuccess:function(){return v("canEdit")},onError:f}),L=k.mutate,M=k.isLoading,w=b||M,C=[d&&{label:i(Sn.remindLabel),dataPendo:"shared-links/remind-participants",onItemSelect:function(){return j({userUuids:[p]})}},u&&{label:i(Sn.removeLabel),dataPendo:"shared-links/remove-participant",onItemSelect:function(){return L((0,l.Z)((0,l.Z)({},y),{},{uuid:p}))}}].filter(Boolean);return(0,m.jsxs)(m.Fragment,{children:[w&&(0,m.jsx)(c.A,{}),(0,m.jsx)(ue.Z,{items:C,onItemSelect:wn,overrides:he})]})},Zn=function(e){var n=e.actions;return Object.keys(n).some((function(e){return n[e]}))?(0,m.jsx)(ge.R,{content:function(n){var t=n.close;return(0,m.jsx)(Cn,(0,l.Z)({close:t},e))}}):null},En=function(e){var n=e.linkDetails,t=(0,Z.Z)().formatMessage,i=n.id,a=n.attributes,r=a.link,s=a.relationships,o=s.location.systemName,d=s.actions,c=d.canRemindParticipants,u=d.canEdit,p=s.attendees;return(0,m.jsx)(rn,{children:null===p||void 0===p?void 0:p.map((function(e){var n=e.email,a=e.uuid,s=e.optional,d=e.meetingHost,p={id:i,link:r,actions:{canRemindParticipants:c,canEdit:u},eventName:o,userUuid:a};return(0,m.jsxs)(sn,{children:[(0,m.jsxs)(ln,{children:[(0,m.jsx)(de.P,{content:n,showArrow:!0,children:(0,m.jsx)(on,{children:n})}),(0,m.jsx)(cn,{children:d&&(0,m.jsx)(un,{children:t(Sn.meetingHostLabel)})})]}),(0,m.jsxs)(dn,{children:[s?(0,m.jsx)(I.jhm,{overrides:Ln}):(0,m.jsx)(I.Fc0,{overrides:Ln}),(0,m.jsx)(Zn,(0,l.Z)({},p))]})]},n)}))})},Rn=function(e){var n,t=e.attributes,i=t.relationships,a=i.location.systemName,r=i.engagementType.uuid,o=t.customFields,u=(0,h.useSummitClient)(),p=(0,E.useQuery)(["engagementTypeCustomForm",{path:{eventName:a},query:{uuid:r}}],(0,h.getEngagementTypeCustomFormQueryFn)(u)),f=p.isLoading,v=p.isFetching,y=p.data,x=p.error,j=p.refetch;if(f||v)return(0,m.jsx)(c.A,{});if(x||!y)return(0,m.jsx)(g.m,{onButtonClick:function(){return j()}});var b=Object.keys(y.data)[0],k=((null===(n=y.data[b].forms)||void 0===n?void 0:n.external_activity_custom_form)||[]).reduce((function(e,n){var t=n.field_name,i=n.label;return(0,l.Z)((0,l.Z)({},e),{},(0,s.Z)({},t,i))}),{});return(0,m.jsx)(m.Fragment,{children:Object.keys(null!==o&&void 0!==o?o:{}).map((function(e,n){var t=o[e];return(0,m.jsxs)(d.Fragment,{children:[(0,m.jsx)(yn,{children:k[e]}),(0,m.jsx)(vn,{children:Array.isArray(t)?t.join(", "):(0,m.jsx)("div",{dangerouslySetInnerHTML:{__html:t}})})]},n)}))})},Tn=(0,C.vU)({attendeesLabel:{id:"Oa0KsR",defaultMessage:[{type:0,value:"Participants"}]},meetingInfoLabel:{id:"01A1bB",defaultMessage:[{type:0,value:"Meeting Information"}]}});!function(e){e.PARTICIPANTS="participants",e.MEETING_INFO="meetingInfo"}(a||(a={}));var Bn,zn=function(e){var n=e.linkDetails,t=(0,Z.Z)().formatMessage,i=(0,d.useState)(a.PARTICIPANTS),r=(0,o.Z)(i,2),s=r[0],c=r[1];return(0,m.jsxs)(B.mQ,{activeKey:s,onChange:function(e){var n=e.activeKey;c(n)},activateOnFocus:!1,overrides:_,children:[(0,m.jsx)(B.OK,{title:(0,m.jsx)(B.J$,{children:t(Tn.attendeesLabel)}),overrides:(0,B.i$)(F),"data-pendo":"tab-".concat(a.PARTICIPANTS),children:(0,m.jsx)(En,{linkDetails:n})},a.PARTICIPANTS),(0,m.jsx)(B.OK,{title:(0,m.jsx)(B.J$,{children:t(Tn.meetingInfoLabel)}),overrides:(0,B.i$)(F),"data-pendo":"tab-".concat(a.MEETING_INFO),children:(0,m.jsx)(Rn,(0,l.Z)({},n))},a.MEETING_INFO)]})},In=t(63536),Pn=t(40619),Un=(0,C.vU)({slotsLabel:{id:"ECycvQ",defaultMessage:[{type:1,value:"count"},{type:0,value:" "},{type:6,value:"count",options:{one:{value:[{type:0,value:"slot"}]},other:{value:[{type:0,value:"slots"}]}},offset:0,pluralType:"cardinal"}]}}),An=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{startDate:e.map((function(e){return e.startTime})).sort()[0],endDate:e.map((function(e){return e.endTime})).sort().reverse()[0]}},Nn=function(e){var n=e.timeRanges,t=void 0===n?[]:n,i=e.timeZone,a=An(t),r=a.startDate,s=a.endDate;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(nn,{children:(0,Pn._Q)((0,Pn.w)(r),(0,Pn.w)(s))}),(0,m.jsx)(an,{children:i})]})},On=function(e){var n=e.timeRanges,t=void 0===n?[]:n,i=e.timeZone,a=(0,Z.Z)().formatMessage,r=An(t),s=r.startDate,o=r.endDate;return(0,m.jsx)(In.UQ,{overrides:jn,children:(0,m.jsx)(In.s_,{title:(0,m.jsxs)(pn,{children:[(0,m.jsxs)(nn,{children:[(0,Pn._Q)((0,Pn.w)(s),(0,Pn.w)(o)),"\xa0\u2013\xa0",a(Un.slotsLabel,{count:t.length})]}),(0,m.jsx)(an,{children:i})]}),children:t.map((function(e,n){var t=e.startTime,i=e.endTime;return(0,m.jsx)(tn,{children:(0,Pn.Hk)(new Date(t),new Date(i))},n)}))})})},Dn=function(e){var n=e.timeRanges,t=void 0===n?[]:n,i=1===(null===t||void 0===t?void 0:t.length)&&/^[0-9]{4}\x2D[0-9]{2}\x2D[0-9]{2}$/.test(t[0].startTime);return t.length?(0,m.jsx)(at,{Icon:I.SQu,children:i?(0,m.jsx)(Nn,(0,l.Z)({},e)):(0,m.jsx)(On,(0,l.Z)({},e))}):null},$n=(0,C.vU)({remindSuccessMessage:{id:"2u6nmE",defaultMessage:[{type:0,value:"Reminded participants successfully"}]},renewLinkSuccessMessage:{id:"rkQMzx",defaultMessage:[{type:0,value:"Link renewed successfully"}]},genericError:{id:"yrtbWL",defaultMessage:[{type:0,value:"Something is not right. Please retry."}]},renewLabel:{id:"5QyBEV",defaultMessage:[{type:0,value:"Renew"}]},remindLabel:{id:"NOEv6E",defaultMessage:[{type:0,value:"Remind"}]},editLabel:{id:"Ke35Pv",defaultMessage:[{type:0,value:"Edit"}]}}),_n=function(e){var n=e.linkDetails,t=e.primaryActions,i=e.externalAttendees,a=e.onLinkEdit,r=(0,Z.Z)().formatMessage,s=(0,d.useState)(!1),l=(0,o.Z)(s,2),u=l[0],p=l[1],g=n.attributes,f=g.uuid,v=g.relationships.location.systemName,y=t.canRemindParticipants,x=t.canRenewExpiry,j=t.canEdit,b={client:(0,h.useSummitV1Client)(v),token:f},k=(0,E.useMutation)("renewLink",h.renewInboundLinkMutationFn,{onSuccess:function(){(0,pe.XA)(r($n.renewLinkSuccessMessage))},onError:function(){(0,pe.Eo)(r($n.genericError))}}),L=k.mutate,M=k.isLoading;return(0,m.jsxs)(m.Fragment,{children:[M&&(0,m.jsx)(c.A,{}),y?(0,m.jsxs)(m.Fragment,{children:[u&&(0,m.jsx)(Fe,{token:f,eventName:v,attendees:i,onClose:function(){return p(!1)}}),(0,m.jsx)(ne,{onClick:function(){return p(!0)},dataPendo:"shared-links/remind-participants",children:r($n.remindLabel)})]}):x?(0,m.jsx)(ne,{onClick:function(){return L(b)},dataPendo:"shared-links/renew-link",children:r($n.renewLabel)}):j?(0,m.jsx)(ne,{onClick:function(){return null===a||void 0===a?void 0:a()},dataPendo:"shared-links/edit-link",children:r($n.editLabel)}):null]})},Fn=t(52427),Qn=function(e){return(0,m.jsxs)(I.JO$,(0,l.Z)((0,l.Z)({width:"16",height:"16",viewBox:"0 0 16 16",color:"none"},e),{},{children:[(0,m.jsx)("path",{d:"M3.435 2.219H1v12.783h14V2.219h-2.434",stroke:"#706E6B",strokeLinecap:"round",strokeLinejoin:"round"}),(0,m.jsx)("path",{clipRule:"evenodd",d:"M3.434 3.435H5.26V1H3.434v2.435zM10.742 3.435h1.826V1h-1.826v2.435z",stroke:"#706E6B",strokeLinecap:"round",strokeLinejoin:"round"}),(0,m.jsx)("path",{d:"M5.258 2.219h5.478M1 5.258h14M5.5 12.563l5-5M10.5 12.563l-5-5",stroke:"#706E6B",strokeLinecap:"round",strokeLinejoin:"round"})]}))},Vn=function(e){return(0,m.jsx)(I.JO$,(0,l.Z)((0,l.Z)({width:"16",height:"16",viewBox:"0 0 16 16",color:"none"},e),{},{children:(0,m.jsx)("path",{d:"m9.456 8.33.059.058a1.365 1.365 0 0 0 1.93 0l2.707-2.706c.796-.797.796-2.1 0-2.897l-1.2-1.2a2.053 2.053 0 0 0-2.896 0L7.349 4.293a1.366 1.366 0 0 0 0 1.931l.059.058M6.043 7.646l-.059-.058a1.364 1.364 0 0 0-1.93 0l-2.707 2.706a2.055 2.055 0 0 0 0 2.897l1.2 1.2c.796.796 2.1.796 2.896 0l2.707-2.707a1.366 1.366 0 0 0 0-1.931l-.059-.06M5.094 10.642l5.309-5.31",stroke:"#706E6B",strokeLinecap:"round",strokeLinejoin:"round"})}))},Wn=(0,C.vU)({expiresOnLabel:{id:"CqcoNK",defaultMessage:[{type:0,value:"Expires on "},{type:1,value:"date"}]},expiredLabel:{id:"Xycnof",defaultMessage:[{type:0,value:"Expired on "},{type:1,value:"date"}]},scheduledLabel:{id:"AjjJa0",defaultMessage:[{type:0,value:"Scheduled"}]},cancelledLabel:{id:"yPhxeR",defaultMessage:[{type:0,value:"Cancelled"}]},meetingLabel:{id:"2VPJSX",defaultMessage:[{type:0,value:"Meeting #"},{type:1,value:"id"}]},meetingLabelWithCount:{id:"Z9X6Ow",defaultMessage:[{type:1,value:"count"},{type:0,value:" "},{type:6,value:"count",options:{one:{value:[{type:0,value:"meeting"}]},other:{value:[{type:0,value:"meetings"}]}},offset:0,pluralType:"cardinal"},{type:0,value:" (of "},{type:1,value:"meetingsQuota"},{type:0,value:")"}]},cancelledMeetingLabelWithCount:{id:"gprJlU",defaultMessage:[{type:1,value:"count"},{type:0,value:" "},{type:6,value:"count",options:{one:{value:[{type:0,value:"meeting"}]},other:{value:[{type:0,value:"meetings"}]}},offset:0,pluralType:"cardinal"},{type:0,value:" cancelled"}]}}),Hn=function(e){return Fn.ou.fromISO(e).toLocaleString(Fn.ou.DATETIME_FULL)},Xn={scheduled:function(e){return(0,m.jsxs)(I.JO$,(0,l.Z)((0,l.Z)({width:"16",height:"16",viewBox:"0 0 16 16",color:"none"},e),{},{children:[(0,m.jsx)("path",{d:"m11.66 7.691-4.565 4.87-2.13-2.13",stroke:"#706E6B",strokeLinecap:"round",strokeLinejoin:"round"}),(0,m.jsx)("path",{d:"M3.435 2.219H1v12.783h14V2.219h-2.434",stroke:"#706E6B",strokeLinecap:"round",strokeLinejoin:"round"}),(0,m.jsx)("path",{clipRule:"evenodd",d:"M3.434 3.435H5.26V1H3.434v2.435zM10.742 3.435h1.826V1h-1.826v2.435z",stroke:"#706E6B",strokeLinecap:"round",strokeLinejoin:"round"}),(0,m.jsx)("path",{d:"M5.258 2.219h5.478M1 5.258h14",stroke:"#706E6B",strokeLinecap:"round",strokeLinejoin:"round"})]}))},pending:function(e){return(0,m.jsxs)(I.JO$,(0,l.Z)((0,l.Z)({width:"16",height:"16",viewBox:"0 0 16 16",color:"none"},e),{},{children:[(0,m.jsx)("path",{d:"M3.435 2.219H1v12.783h14V2.219h-2.434",stroke:"#706E6B",strokeLinecap:"round",strokeLinejoin:"round"}),(0,m.jsx)("path",{clipRule:"evenodd",d:"M3.434 3.435H5.26V1H3.434v2.435zM10.742 3.435h1.826V1h-1.826v2.435z",stroke:"#706E6B",strokeLinecap:"round",strokeLinejoin:"round"}),(0,m.jsx)("path",{d:"M5.258 2.219h5.478M1 5.258h14",stroke:"#706E6B",strokeLinecap:"round",strokeLinejoin:"round"}),(0,m.jsx)("circle",{cx:"4.977",cy:"9.57",r:".875",fill:"#706E6B"}),(0,m.jsx)("circle",{cx:"8.012",cy:"9.57",r:".875",fill:"#706E6B"}),(0,m.jsx)("circle",{cx:"11.063",cy:"9.57",r:".875",fill:"#706E6B"})]}))},cancelled:Qn,expired:Qn},Jn=function(e){var n=e.meetingId,t=e.showAsBlock,i=void 0!==t&&t,a=e.onClick,r=e.status,s=(0,Z.Z)().formatMessage;return(0,m.jsxs)(z.Qj,{size:14,type:"button",kind:z.TO.minimal,overrides:bn(i),"data-pendo":"shared-links-detail/meeting-link",onClick:a,children:[s(Wn.meetingLabel,{id:n}),"\xa0","cancelled"===r?(0,m.jsx)(fn,{children:" (".concat(s(Wn.cancelledLabel,{id:n}),")")}):null]})},Gn=function(e){var n=e.linkDetails,t=e.onMeetingClick,i=(0,Z.Z)().formatMessage,a=n.attributes,r=a.expiredOn,s=a.status,o=a.meetingsQuota,l=a.scheduledMeetings,d=a.numberOfScheduledMeetings,c=Xn[s];if(o>1&&("expired"===s||"scheduled"===s))return(0,m.jsx)(Ge,{children:(0,m.jsxs)(hn,{children:[(0,m.jsxs)(gn,{children:[(0,m.jsx)(qe,{children:(0,m.jsx)(c,{size:14,overrides:kn})}),(0,m.jsx)(Ke,{children:(0,m.jsxs)(nn,{children:["expired"===s?i(Wn.expiredLabel,{date:Hn(r)}):null,"scheduled"===s?(0,m.jsxs)(m.Fragment,{children:[i(Wn.scheduledLabel),"\xa0\u2022\xa0",i(Wn.expiresOnLabel,{date:Hn(r)})]}):null]})})]}),l&&(0,m.jsx)(In.UQ,{overrides:jn,children:(0,m.jsx)(In.s_,{title:(0,m.jsx)(nn,{children:i(Wn.meetingLabelWithCount,{count:d,meetingsQuota:o})}),children:l.map((function(e){var n=e.id,i=e.uuid,a=e.status;return(0,m.jsx)(Jn,{meetingId:n,status:a,showAsBlock:!0,onClick:function(){return null===t||void 0===t?void 0:t(i)}},n)}))})})]})});if("pending"===s||"expired"===s)return(0,m.jsx)(at,{Icon:c,children:(0,m.jsx)(nn,{children:i(Wn["pending"===s?"expiresOnLabel":"expiredLabel"],{date:Hn(r)})})});if("scheduled"===s){var u=null===l||void 0===l?void 0:l.find((function(e){return"cancelled"!==e.status})),p=null===l||void 0===l?void 0:l.filter((function(e){return"cancelled"===e.status}));return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(at,{Icon:c,children:(0,m.jsxs)(nn,{children:[i(Wn.scheduledLabel),"\xa0",u&&(0,m.jsx)(Jn,{meetingId:u.id,status:u.status,onClick:function(){return null===t||void 0===t?void 0:t(u.uuid)}})]})}),null!==p&&void 0!==p&&p.length?(0,m.jsx)(Ge,{children:(0,m.jsx)(In.UQ,{overrides:jn,children:(0,m.jsx)(In.s_,{title:(0,m.jsx)(nn,{children:i(Wn.cancelledMeetingLabelWithCount,{count:p.length})}),children:p.map((function(e){var n=e.id,i=e.uuid;return(0,m.jsx)(Jn,{meetingId:n,showAsBlock:!0,onClick:function(){return null===t||void 0===t?void 0:t(i)}},n)}))})})}):null]})}return(0,m.jsx)(at,{Icon:c,children:(0,m.jsx)(nn,{children:i(Wn.cancelledLabel)})})},qn=["canRemindParticipants"],Kn=["canRenewExpiry"],Yn=["canEdit"],et=["link"],nt=["onClose"],tt=(0,C.vU)({requestorLabel:{id:"FYe7Um",defaultMessage:[{type:0,value:"Requestor"}]},preferredLabel:{id:"tv+FIK",defaultMessage:[{type:0,value:"Preferred"}]},slotsLabel:{id:"kFmo21",defaultMessage:[{type:1,value:"count"},{type:0,value:" slots"}]},meetingsQuotaLabel:{id:"9FHOgO",defaultMessage:[{type:1,value:"meetingsQuota"},{type:0,value:" Use"}]},unlimitedUseLabel:{id:"QU/f7k",defaultMessage:[{type:0,value:"Unlimited Use (999)"}]}}),it=(0,C.vU)({room:{id:"uP7lRl",defaultMessage:[{type:0,value:"Room"}]},boothTour:{id:"CSHC9R",defaultMessage:[{type:0,value:"Designated Location"}]}}),at=function(e){var n=e.Icon,t=e.children;return(0,m.jsxs)(Ge,{children:[(0,m.jsx)(qe,{children:(0,m.jsx)(n,{size:16,overrides:kn})}),(0,m.jsx)(Ke,{children:t})]})},rt=function(e){var n,t,i=e.linkDetails,a=e.onLinkEdit,r=e.onMeetingClick,s=e.isWebApp,o=e.onScheduleMeeting,d=(0,Z.Z)().formatMessage,c=i.attributes,u=c.status,p=c.requestorInfo,h=c.locationPreference,g=c.timeRanges,f=c.proposedTimeZone,v=c.meetingsQuota,y=c.isUnlimitedUse,x=c.preferredVconLink,j=c.relationships,b=j.topic,k=j.actions,L=j.engagementType,M={},w=k,C=j.attendees.filter((function(e){return"external"===e.type}));if("pending"===u){var E=k.canRemindParticipants,R=(0,S.Z)(k,qn);M={canRemindParticipants:E&&!!C.length},w=R}else if("expired"===u||"cancelled"===u){M={canRenewExpiry:k.canRenewExpiry},w=(0,S.Z)(k,Kn)}else if("scheduled"===u){M={canEdit:k.canEdit},w=(0,S.Z)(k,Yn)}return s&&(M=(0,l.Z)((0,l.Z)({},M),{},{canEdit:!1}),w=(0,l.Z)((0,l.Z)({},w),{},{canEdit:!1})),(0,m.jsxs)(Ye,{children:[(0,m.jsx)(xn,{linkDetails:i,secondaryActions:w,onLinkEdit:a,onScheduleMeeting:o}),(0,m.jsxs)(en,{children:[(0,m.jsx)(Gn,{linkDetails:i,onMeetingClick:r}),(0,m.jsx)(at,{Icon:I.DGg,children:(0,m.jsx)(nn,{children:L.displayName})}),b&&(0,m.jsx)(at,{Icon:I.I4U,children:(0,m.jsx)(nn,{children:b.displayName})}),(0,m.jsx)(Dn,{timeRanges:g,timeZone:f}),p&&(0,m.jsxs)(at,{Icon:I.v0C,children:[(0,m.jsx)(nn,{children:p.name}),(0,m.jsx)(an,{children:d(tt.requestorLabel)})]}),h&&(0,m.jsx)(at,{Icon:I.fVp,children:"offsite"===h.locationType?(0,m.jsxs)(nn,{children:[null===(n=h.offsiteLocation)||void 0===n?void 0:n.name,"\xa0",null===(t=h.offsiteLocation)||void 0===t?void 0:t.address]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(nn,{children:d(it[h.locationType])}),(0,m.jsx)(an,{children:d(tt.preferredLabel)})]})}),x&&(0,m.jsxs)(at,{Icon:I.iVq,children:[(0,m.jsx)(nn,{children:x.conferenceName}),(0,m.jsx)(an,{children:d(tt.preferredLabel)})]}),(0,m.jsx)(at,{Icon:Vn,children:(0,m.jsx)(nn,{children:y?d(tt.unlimitedUseLabel):d(tt.meetingsQuotaLabel,{meetingsQuota:v})})}),(0,m.jsx)(zn,{linkDetails:i})]}),(0,m.jsx)(_n,{externalAttendees:C,linkDetails:i,primaryActions:M,onLinkEdit:a})]})},st=function(e){var n=e.link,t=(0,S.Z)(e,et),i=n.id,a=n.relationships.location.systemName,r=(0,h.useSummitV1Client)(a),s=(0,E.useQuery)(["sharedLinkDetails",{token:i}],(0,h.getSharedLinkDetailsQueryFn)(r)),o=s.isLoading,d=s.isFetching,c=s.isFetchedAfterMount,u=s.data,p=s.error,f=s.refetch;return o||d&&c?(0,m.jsx)(le,{}):p||!u?(0,m.jsx)(g.m,{onButtonClick:function(){return f()}}):(0,m.jsx)(rt,(0,l.Z)({linkDetails:u},t))},ot=function(e){var n=e.onClose,t=(0,S.Z)(e,nt);return(0,m.jsx)(H,{onClose:n,isWebApp:t.isWebApp,children:(0,m.jsx)(st,(0,l.Z)({},t))})},lt=function(e){var n=e.id,t=e.meetingWith,i=e.relationships,a=i.location,r=a.systemName,s=a.uuid,o=i.engagementType.id,l=i.attendees,d=void 0===l?[]:l,c=i.topic,u=(c=void 0===c?{}:c).uuid;window.open((0,w.stringifyUrl)({url:"".concat(window.location.origin,"/").concat(r,"/meeting_request/new"),query:{current_location_uuid:s,activity_uuid:o,meeting_with:t,sharedLinkUuid:n,"user_uuids[]":d.map((function(e){return e.uuid})),topic_uuid:u}},{skipEmptyString:!0}),"_blank")},dt=(0,C.vU)({primaryId:{id:"pVXukj",defaultMessage:[{type:0,value:"ID"}]},meetingWith:{id:"aRuWax",defaultMessage:[{type:0,value:"Meeting title"}]},location:{id:"Bbwtvh",defaultMessage:[{type:0,value:"Location"}]},linkType:{id:"cL2U5k",defaultMessage:[{type:0,value:"Type"}]},status:{id:"VYwlZW",defaultMessage:[{type:0,value:"Status"}]},expiresAt:{id:"VIV9bJ",defaultMessage:[{type:0,value:"Expiry Date"}]},createdBy:{id:"ZbNB+X",defaultMessage:[{type:0,value:"Created by"}]},createdAt:{id:"4+mkzL",defaultMessage:[{type:0,value:"Created at"}]}}),ct=[{field:"primaryId",maxWidth:60,sortable:!1,resizable:!0},{field:"meetingWith",sortable:!1},{field:"location",sortable:!1,valueGetter:function(e){var n,t=e.data.relationships;return null===t||void 0===t||null===(n=t.location)||void 0===n?void 0:n.displayName}},{field:"linkType",sortable:!1,cellRenderer:"linkTypeCell"},{field:"status",sortable:!1,cellRenderer:"statusCell"},{field:"expiresAt",sortable:!0,valueGetter:function(e){var n=e.data.expiresAt;return new Date(n)},valueFormatter:function(e){var n=e.value;return(0,Pn.p6)(n)}},{field:"createdBy",sortable:!1,valueGetter:function(e){var n,t=e.data.relationships;return null===t||void 0===t||null===(n=t.createdBy)||void 0===n?void 0:n.name}},{field:"createdAt",sortable:!0,valueGetter:function(e){var n=e.data.createdAt;return new Date(n)},valueFormatter:function(e){var n=e.value;return(0,Pn.p6)(n)}},{field:"actions",pinned:"right",resizable:!1,maxWidth:50,cellRenderer:"actionCell",headerComponent:"actionHeader",headerComponentParams:{columnHeaderNames:dt},valueGetter:function(e){var n=e.data.relationships;return null===n||void 0===n?void 0:n.actions}}],ut=function(e){var n=e.agGridReact,t=e.refetch,i=void 0===n.props.rowData;return(0,m.jsxs)(r.aR,{children:[i?(0,m.jsx)(r.Pz,{size:93}):(0,m.jsx)(r.e5,{size:93}),(0,m.jsx)(r.CM,{children:i?(0,m.jsx)(xe.Z,{id:"HxOy0b",defaultMessage:[{type:0,value:"Something went wrong. Please try again."}]}):(0,m.jsx)(xe.Z,{id:"t469mx",defaultMessage:[{type:0,value:"No links to show"}]})}),i&&(0,m.jsx)(r.VX,{type:"button",kind:z.TO.secondary,onClick:t,children:(0,m.jsx)(xe.Z,{id:"NJMO8m",defaultMessage:[{type:0,value:"Retry"}]})})]})},pt=t(23994),ht=(0,C.vU)({schedule:{id:"9fgrie",defaultMessage:[{type:0,value:"Schedule"}]},renew:{id:"W14qWG",defaultMessage:[{type:0,value:"Renew"}]},remind:{id:"6yD7PL",defaultMessage:[{type:0,value:"Remind"}]},labelCancel:{id:"DLrjrO",defaultMessage:[{type:0,value:"Cancel"}]},labelDelete:{id:"5lDhhN",defaultMessage:[{type:0,value:"Delete"}]},copy:{id:"JjkEsB",defaultMessage:[{type:0,value:"Copy link"}]},genericError:{id:"yrtbWL",defaultMessage:[{type:0,value:"Something is not right. Please retry."}]},copied:{id:"TqyqLr",defaultMessage:[{type:0,value:"Link copied to clipboard"}]},linkRenewSuccessMessage:{id:"Iklmi7",defaultMessage:[{type:0,value:"The link is renewed successfully."}]}}),gt=(0,C.vU)({labelEngagementMore:{id:"Kbjs3X",defaultMessage:[{type:0,value:"Shared link list more option"}]}}),mt=function(e){var n,t;return null===(n=(t=e.item).onItemSelect)||void 0===n?void 0:n.call(t,e)},ft=function(e){var n=(0,Z.Z)().formatMessage,t=(0,d.useState)(!1),i=(0,o.Z)(t,2),a=i[0],s=i[1],u=(0,d.useState)(),p=(0,o.Z)(u,2),g=p[0],f=p[1],v=e.value,y=e.data,x=e.onClose,j=e.node,b=e.api,k=y.id,L=y.status,M=y.relationships,S=M.attendees,w=M.engagementType.id,C=(0,U.Zn)().location,R=C.id,T=C.attributes.systemName,B=(0,h.useSummitV1Client)(T),z=S.filter((function(e){return"external"===e.type})),I=(0,E.useMutation)("renewLink",h.renewInboundLinkMutationFn,{onSuccess:function(e){var t=e.status,i=e.expiresAt;j.setData((0,l.Z)((0,l.Z)({},y),{},{status:t,expiresAt:i})),(0,pe.XA)(n(ht.linkRenewSuccessMessage))},onError:function(){(0,pe.Eo)(n(ht.genericError))}}),P=I.mutate,A=I.isLoading,N=[v.canScheduleMeeting&&{label:n(ht.schedule),onItemSelect:function(){return lt(y)}},v.canCopy&&{label:(0,m.jsx)(ce.CopyToClipboard,{text:y.link,onCopy:function(){(0,pe.XA)(n(ht.copied)),x()},children:(0,m.jsx)("span",{children:n(ht.copy)})})},z.length&&v.canRemindParticipants&&{label:n(ht.remind),onItemSelect:function(){return s(!0)}},v.canRenewExpiry&&{label:n(ht.renew),onItemSelect:function(){return P({client:B,token:k})}},v.canCancel&&{label:n(ht.labelCancel),onItemSelect:function(){return f("canCancel")}},v.canDelete&&{label:n(ht.labelDelete),onItemSelect:function(){return f("canDelete")}}].filter(Boolean),O={status:L,token:k,eventName:T,currentLocationUuid:R,engagementTypeUuid:w},D=A;return(0,m.jsxs)(m.Fragment,{children:[D&&(0,m.jsx)(c.A,{}),a&&(0,m.jsx)(Fe,{token:k,eventName:T,attendees:z,onClose:function(){return s(!1)}}),g&&(0,m.jsx)($e,(0,l.Z)({onClose:function(){return f(void 0)},onSuccess:function(e,n){"canCancel"===e&&j.setDataValue("status",null===n||void 0===n?void 0:n.status),"canDelete"===e&&b.applyTransaction({remove:[j.data]}),x()},action:g},O)),(0,m.jsx)(ue.Z,{items:N,onItemSelect:mt,overrides:r._h})]})},vt=function(e){var n=(0,Z.Z)().formatMessage;return(0,m.jsx)(ge.R,{popoverMargin:8,placement:pt.r4.bottomRight,content:function(n){var t=n.close;return(0,m.jsx)(ft,(0,l.Z)((0,l.Z)({},e),{},{onClose:t}))},ariaLabel:n(gt.labelEngagementMore)})},yt=t(92377),xt={Root:{style:function(e){var n=e.$theme.sizing;return{height:n.scale700,borderTopLeftRadius:n.scale400,borderTopRightRadius:n.scale400,borderBottomRightRadius:n.scale400,borderBottomLeftRadius:n.scale400}}}},jt=(0,C.vU)({pending:{id:"WkTz6L",defaultMessage:[{type:0,value:"Pending"}]},scheduled:{id:"u+vB0X",defaultMessage:[{type:0,value:"Scheduled"}]},expired:{id:"3/ThhY",defaultMessage:[{type:0,value:"Expired"}]},cancelled:{id:"+/MP5z",defaultMessage:[{type:0,value:"Canceled"}]}}),bt={pending:"warning",expired:"negative",scheduled:"positive",cancelled:"neutral"},kt=function(e){var n=e.value,t=(0,Z.Z)().formatMessage;return(0,m.jsx)(yt.Vp,{closeable:!1,variant:yt.c7.outlined,overrides:xt,kind:bt[n],children:t(jt[n])})},Lt=(0,C.vU)({singleUse:{id:"J8HTZs",defaultMessage:[{type:0,value:"Single-use"}]},multiUse:{id:"ij2iJO",defaultMessage:[{type:0,value:"Multi-use"}]}}),Mt=function(e){var n=(0,Z.Z)().formatMessage;return(0,m.jsx)(m.Fragment,{children:n(Lt[e.value])})},St=function(e){var n=(0,d.useState)(),t=(0,o.Z)(n,2),a=t[0],s=t[1];return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(r.aV,(0,l.Z)((0,l.Z)({},e),{},{constants:i,frameworkComponents:{actionCell:vt,linkTypeCell:Mt,statusCell:kt,noRowsAndError:ut},onRowClicked:function(e){var n=e.data,t=e.event;return!(null===t||void 0===t?void 0:t.target).closest("[col-id=actions]")&&s(n)}})),a&&(0,m.jsx)(ot,{link:a,onMeetingClick:function(e){var n=a.relationships.location,t=n.systemName,i=n.uuid;window.open("".concat(window.location.origin,"/").concat(t,"/meeting_request/").concat(e,"/edit?current_location_uuid=").concat(i),"_blank")},onScheduleMeeting:function(){return lt(a)},onClose:function(){return s(void 0)},isWebApp:!0})]})},wt=t(92683),Ct=(0,X.zo)("header",(function(e){var n=e.$theme.sizing;return{display:"flex",alignItems:"center",justifyContent:"space-between",paddingLeft:n.scale800,paddingRight:n.scale800,paddingTop:n.scale800,paddingBottom:n.scale200}})),Zt=(0,X.zo)("div",{}),Et=(0,X.zo)("div",{display:"flex",alignItems:"center"}),Rt=(0,X.zo)(we.N,(function(e){var n=e.$theme.sizing;return{paddingLeft:n.scale600,paddingRight:n.scale600}})),Tt=(0,X.zo)("h2",(function(e){var n=e.$theme,t=n.typography,i=n.colors;return(0,l.Z)((0,l.Z)({},t.HeadingXSmall),{},{color:i.mono800,margin:0})})),Bt=(0,C.vU)({search:{id:"4bIsxJ",defaultMessage:[{type:0,value:"Search"}]}}),zt=function(e){var n=e.itemCount,t=e.onSearch,i=e.search,a=(0,Z.Z)().formatMessage;return(0,m.jsxs)(Ct,{children:[(0,m.jsx)(Zt,{children:(0,m.jsx)(Tt,{children:(0,m.jsx)(xe.Z,{id:"aFOdmI",defaultMessage:[{type:0,value:"Shared links \xb7 "},{type:2,value:"count",style:null}],values:{count:n}})})}),(0,m.jsx)(Et,{children:(0,m.jsx)(Rt,{children:(0,m.jsx)(wt.II,{type:"search",value:i,IconAfter:I.olm,onChange:t,placeholder:a(Bt.search)})})})]})},It=t(55750),Pt=(0,C.vU)({scheduled:{id:"7I25Sk",defaultMessage:[{type:0,value:"Scheduled"}]},expired:{id:"QnC0FE",defaultMessage:[{type:0,value:"Expired"}]},cancelled:{id:"uojWL4",defaultMessage:[{type:0,value:"Canceled"}]},pending:{id:"9yo2kq",defaultMessage:[{type:0,value:"Pending"}]}}),Ut=["pending","expired","scheduled","cancelled"],At=function(e){var n=e.onChange,t=e.value,i=e.label,a=(0,Z.Z)().formatMessage,s=function(e){return{id:e,label:a(Pt[e])}};return(0,m.jsx)(r.L2,{children:(0,m.jsx)(It.QV,{label:i,onChange:n,value:t.map(s),options:Ut.map(s),overrides:r.OD})})},Nt=(0,C.vU)({singleUse:{id:"2zCcRC",defaultMessage:[{type:0,value:"Single use"}]},multiUse:{id:"mq/M6F",defaultMessage:[{type:0,value:"Multi use"}]}}),Ot=["singleUse","multiUse"],Dt=function(e){var n=e.onChange,t=e.value,i=e.label,a=(0,Z.Z)().formatMessage,s=function(e){return{id:e,label:a(Nt[e])}};return(0,m.jsx)(r.L2,{children:(0,m.jsx)(It.QV,{label:i,value:t.map(s),onChange:n,options:Ot.map(s)})})},$t=function(e){var n=e.value,t=e.label,i=e.onChange,a=(0,P.UO)().eventName,s=(0,d.useState)(""),l=(0,o.Z)(s,2),c=l[0],u=l[1],p=(0,d.useState)([]),g=(0,o.Z)(p,2),f=g[0],v=g[1],y=(0,A.N)(c),x=(0,E.useQuery)(["meetingFilterOption",{field:"attendee_field",response_format:"object",term:y}],(0,h.getMeetingFilterOptions)({eventName:a}),{enabled:!1,onSuccess:function(e){var n;v((null!==(n=null===e||void 0===e?void 0:e.data)&&void 0!==n?n:[]).map((function(e){var n=e.name;return{id:e.uuid,label:n}})))}}),j=x.isLoading,b=x.refetch;return(0,d.useEffect)((function(){y?b():v([])}),[y]),(0,m.jsx)(r.L2,{children:(0,m.jsx)(It.QV,{label:t,onChange:i,options:f,value:n,asyncOptions:!0,searchText:c,onSearch:u,isLoading:j})})},_t=function(e){var n=e.value,t=e.label,i=e.onChange,a=(0,P.UO)().eventName,s=(0,U.Zn)().location.id,l=(0,d.useState)(""),c=(0,o.Z)(l,2),u=c[0],p=c[1],g=(0,d.useState)([]),f=(0,o.Z)(g,2),v=f[0],y=f[1],x=(0,d.useState)(!1),j=(0,o.Z)(x,2),b=j[0],k=j[1],L=(0,A.N)(u),M=(0,h.useQuery)(["getEngagementTypeFilterOption",{term:L,locations:[s]}],(0,h.getEngagementTypes)({eventName:a}),{enabled:!1,onSuccess:function(e){var n=e.data;y(n.map((function(e){var n=e.name;return{id:e.uuid,label:n}}))),k(!1)}}).refetch;return(0,d.useEffect)((function(){L?M():y([])}),[L]),(0,m.jsx)(r.L2,{children:(0,m.jsx)(It.QV,{label:t,onChange:i,options:v,value:n,asyncOptions:!0,searchText:u,onSearch:p,isLoading:b})})},Ft=(0,C.vU)({status:{id:"Fe85yo",defaultMessage:[{type:0,value:"Status"}]},type:{id:"PF/aYq",defaultMessage:[{type:0,value:"Link type"}]},participants:{id:"9tYbRh",defaultMessage:[{type:0,value:"Participants"}]},engagementTypes:{id:"aNgy4y",defaultMessage:[{type:0,value:"Meeting types"}]},createdBy:{id:"2wPXGj",defaultMessage:[{type:0,value:"Created By"}]}}),Qt=function(e){return{id:e.uuid,label:e.name}},Vt=function(e){return e.id},Wt=function(e){var n=e.onChange,t=(0,Z.Z)().formatMessage,i=M(),a=i.patchPreferences,s=i.preferences,o=s.statuses,l=void 0===o?[]:o,d=s.linkTypes,c=void 0===d?[]:d,u=s.participants,p=void 0===u?[]:u,h=s.engagementTypes,g=void 0===h?[]:h;return(0,m.jsxs)(r.Px,{children:[(0,m.jsx)(At,{value:l,label:t(Ft.status),onChange:function(e){n(),a({statuses:e.map(Vt)})}}),(0,m.jsx)(Dt,{value:c,label:t(Ft.type),onChange:function(e){n(),a({linkTypes:e.map(Vt)})}}),(0,m.jsx)($t,{label:t(Ft.participants),value:p.map(Qt),onChange:function(e){n(),a({participants:e.map((function(e){return{uuid:e.id,name:e.label}}))})}}),(0,m.jsx)(_t,{label:t(Ft.engagementTypes),value:g.map(Qt),onChange:function(e){n(),a({engagementTypes:null===e||void 0===e?void 0:e.map((function(e){return{uuid:e.id,name:e.label}}))})}})]})},Ht=t(54558),Xt=t(43756),Jt=(0,C.vU)({linkList:{id:"7TEEur",defaultMessage:[{type:0,value:"Link List"}]}}),Gt=function(){var e,n,t=(0,Z.Z)().formatMessage,i=(0,Ht.Pi)().meta.companyName,a=(null!==(e=null===(n=(0,U.Zn)().location)||void 0===n?void 0:n.attributes)&&void 0!==e?e:{}).displayName;return(0,m.jsx)(Xt.$,{title:"".concat(t(Jt.linkList)," - ").concat(a," - ").concat(i)})},qt=(0,X.zo)("footer",(function(e){return{display:"flex",justifyContent:"flex-end",paddingRight:e.$theme.sizing.scale600}})),Kt=(0,X.zo)("div",(function(e){var n=e.$theme.sizing;return{display:"flex",alignItems:"center",justifyContent:"space-between",paddingLeft:n.scale800,paddingRight:n.scale800,height:"62px"}})),Yt=["page"];!function(e){e.LINKS="links",e.MEETINGS="meetings"}(Bn||(Bn={}));var ei=function(e){return e.uuid},ni=(0,C.vU)({labelExportLinks:{id:"js2rSe",defaultMessage:[{type:0,value:"Export links"}]}}),ti=(0,C.vU)({labelExportLinks:{id:"rPiBYu",defaultMessage:[{type:0,value:"Export"}]}}),ii=(0,C.vU)({links:{id:"4kupnG",defaultMessage:[{type:0,value:"Shared links"}]},meetings:{id:"ciotkF",defaultMessage:[{type:0,value:"Meetings"}]}}),ai=function(){var e,n=(0,Z.Z)().formatMessage,t=(0,d.useState)(Bn.LINKS),i=(0,o.Z)(t,2),a=i[0],s=i[1],u=(0,d.useState)(null),p=(0,o.Z)(u,2),g=p[0],f=p[1],v=(0,d.useState)(""),y=(0,o.Z)(v,2),x=y[0],j=y[1],b=(0,A.N)(x.trim(),500),k=(0,r.cH)().deselectAll,L=(0,d.useState)(1),C=(0,o.Z)(L,2),$=C[0],_=C[1],F=(0,P.UO)().eventName,Q=(0,U.Zn)().location,V=(0,P.$B)({exact:!0,path:N.nB.LINKS.path}),W=function(){_(1),k()},H=M(),X=H.preferences,J=X.sortBy,G=X.statuses,q=X.linkTypes,K=X.participants,Y=X.engagementTypes,ee={page:{size:r.IV,number:$},search_term:b,"filter[emeetLocationUuid][]":[new URLSearchParams((0,P.TH)().search).get("location")],sortBy:J,"statuses[]":G,"linkTypes[]":q,"participants[]":K.map(ei),"engagementTypes[]":Y.map(ei)},ne=(0,E.useQuery)(["sharedLinks",ee],(0,h.getSharedLinksQueryFn)({eventName:F}),{onError:function(){return null===g||void 0===g?void 0:g.showNoRowsOverlay()}}),te=ne.isLoading,ie=ne.data,ae=ne.refetch,re=null!==(e=null===ie||void 0===ie?void 0:ie.meta.page)&&void 0!==e?e:{},se=re.size,oe=void 0===se?r.IV:se,le=re.total,de=void 0===le?0:le;return(0,d.useEffect)((function(){te?null===g||void 0===g||g.showLoadingOverlay():null===g||void 0===g||g.hideOverlay()}),[g,te]),(0,m.jsxs)(m.Fragment,{children:[V&&(0,m.jsx)(Gt,{}),(0,m.jsx)(zt,{search:x,itemCount:de,onSearch:function(e){W(),j(e.target.value)}}),(0,m.jsxs)(B.mQ,{activeKey:a,onChange:function(e){var n=e.activeKey;s(n),"meetings"===n&&(window.location.href=(0,w.stringifyUrl)({url:N.nB.LEGACY_EVENT_MEETINGS.path.replace(":eventName",Q.attributes.systemName),query:{current_location_uuid:Q.id}}))},activateOnFocus:!1,overrides:O,children:[(0,m.jsx)(B.OK,{title:(0,m.jsx)(B.J$,{children:n(ii.meetings)}),overrides:(0,B.i$)(D),children:(0,m.jsx)(c.A,{})},Bn.MEETINGS),(0,m.jsxs)(B.OK,{title:(0,m.jsx)(B.J$,{children:n(ii.links)}),overrides:(0,B.i$)(D),children:[(0,m.jsxs)(Kt,{children:[(0,m.jsx)(Wt,{onChange:W}),(0,m.jsx)(R.RH,{content:n(ti.labelExportLinks),showArrow:!0,placement:R.r4.bottom,children:(0,m.jsx)(z.hU,{type:"button","aria-label":n(ni.labelExportLinks),size:z.NO.large,onClick:function(){var e=ee.page,n=(0,S.Z)(ee,Yt);window.open((0,w.stringifyUrl)({url:"".concat(window.location.origin,"/").concat(F,"/exporter/UserInboundLink"),query:(0,l.Z)({"page[number]":null===e||void 0===e?void 0:e.number,"page[size]":null===e||void 0===e?void 0:e.size,modName:"UserInboundLinks::UserInboundLink"},n)},{skipEmptyString:!0}),"_blank")},children:(0,m.jsx)(I.D7U,{})})})]}),(0,m.jsx)(St,(0,l.Z)((0,l.Z)({gridApi:g,setGridApi:f,onSort:W},H),{},{data:null===ie||void 0===ie?void 0:ie.data,refetch:ae})),(0,m.jsx)(qt,{children:de>oe&&(0,m.jsx)(T.t,{kind:T.T.light,totalItems:de,fixedPageSize:r.IV,currentPageSize:r.IV,currentPageNumber:$,onPageNumberChange:_})})]},Bn.LINKS)]})]})},ri=function(){return(0,m.jsx)(L,{children:(0,m.jsx)(r.he,{children:(0,m.jsx)(ai,{})})})}},56799:function(e,n,t){t.d(n,{R:function(){return u}});var i=t(33028),a=t(23994),r=t(8967),s=t(28958),o={BaseButton:{style:function(e){var n=e.$theme.colors;return{borderLeftStyle:"none",borderTopStyle:"none",borderRightStyle:"none",borderBottomStyle:"none",color:n.mono800,backgroundColor:"transparent",paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,marginRight:0,":hover":{color:n.mono1000,backgroundColor:"transparent"}}}}},l={Body:{style:function(e){var n=e.$theme,t=n.lighting,i=n.colors;return{boxShadow:t.shadow600,border:"1px solid ".concat(i.mono300)}}}},d=(0,t(9930).zo)("div",{display:"flex",flexShrink:1}),c=t(37574),u=function(e){return(0,c.jsx)(d,{onClick:function(e){return e.stopPropagation()},children:(0,c.jsx)(a.yz,(0,i.Z)((0,i.Z)({overrides:l,focusLock:!0},e),{},{children:(0,c.jsx)(r.hU,{size:20,overrides:o,"aria-label":e.ariaLabel,children:(0,c.jsx)(s.g4x,{})})}))})}}}]);
//# sourceMappingURL=325.16ca6174.chunk.js.map